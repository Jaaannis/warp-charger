{/* This file is autogenerated. Edit warp-charger/api_doc_generator/mqtt.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# MQTT-Verbindung

<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
<br/><br/><br/>
## `mqtt/state` {#mqtt_state_warp1}

Der aktuelle MQTT-Zustand.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_state`<br/>int</th>
    <td>
        Zustand der Verbindung zum MQTT-Broker
        - **0** - Nicht konfiguriert
        - **1** - Nicht verbunden
        - **2** - Verbunden
        - **3** - Fehler
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_error`<br/>int</th>
    <td>
        Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_start`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung aufgebaut wurde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_end`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung getrennt wurde.
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/config` {#mqtt_config_warp1}

Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_mqtt`<br/>bool</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **true** - Wenn MQTT aktiviert ist.
        - **false** - Wenn MQTT deaktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`protocol`<br/>int</th>
    <td>
        Das zu verwendende MQTT-Protokoll
        - **0** - MQTT (MQTT über TCP; unverschlüsselt)
        - **1** - MQTTS (MQTT über TLS; verschlüsselt)
        - **2** - WS (MQTT über WebSocket; unverschlüsselt)
        - **3** - WSS (MQTT über WebSocket Secure bzw. MQTT über WebSocket über TLS; verschlüsselt)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_host`<br/>string</th>
    <td>
        Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_port`<br/>int</th>
    <td>
        Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_username`<br/>string</th>
    <td>
        Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_password`<br/>string</th>
    <td>
        Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_topic_prefix`<br/>string</th>
    <td>
        Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_name`<br/>string</th>
    <td>
        Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong>
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`interval`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Minimales Sendeintervall pro Topic in Sekunden. Nachrichten werden grundsätzlich nur verschickt, wenn Änderungen am Payload vorliegen. Durch ein Sendeintervall von x Sekunden wird alle x Sekunden höchstens eine Nachricht eines Topics verschickt. Falls sich der Inhalt in x Sekunden mehrfach ändert wird nur der aktuellste Inhalt übertragen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`path`<br/>string</th>
    <td>
        Teil der MQTT-über-WS-URL hinter dem Hostnamen. Muss mit / beginnen. Wird ignoriert wenn "protocol" 0 oder 1 gewählt sind.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`cert_id`<br/>int</th>
    <td>
        ID des CA-Zertifikats, dass zur Prüfung des Zertifikats des MQTTS bzw. WSS-Servers benutzt wird. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Verwende eingebettetes Zertifikatsbundle
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_cert_id`<br/>int</th>
    <td>
        ID des Client-Zertifikats, dass zum Aufbau einer TLS-verschlüsselten Verbindung verwendet werden soll. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_key_id`<br/>int</th>
    <td>
        ID des Zertifikats-Keys mit dem das Client-Zertifikat verschlüsselt ist. (Optional) Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/auto_discovery_config` {#mqtt_auto_discovery_config_warp1}

Die Konfiguration der MQTT Auto Discovery. Diese kann über mqtt/auto_discovery_config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_mode`<br/>int</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **0** - Auto Discovery deaktiviert
        - **1** - Auto Discovery im generischen Modus; Kompatibel zu z.B. openHAB und Domoticz
        - **2** - Auto Discovery im Home-Assistant-Modus
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_prefix`<br/>string</th>
    <td>
        Präfix auf den die für Auto Discovery verwendeten Informationen gesendet werden. Typischerweise homeassistent
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp2">
<br/><br/><br/>
## `mqtt/state` {#mqtt_state_warp2}

Der aktuelle MQTT-Zustand.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_state`<br/>int</th>
    <td>
        Zustand der Verbindung zum MQTT-Broker
        - **0** - Nicht konfiguriert
        - **1** - Nicht verbunden
        - **2** - Verbunden
        - **3** - Fehler
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_error`<br/>int</th>
    <td>
        Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_start`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung aufgebaut wurde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_end`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung getrennt wurde.
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/config` {#mqtt_config_warp2}

Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_mqtt`<br/>bool</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **true** - Wenn MQTT aktiviert ist.
        - **false** - Wenn MQTT deaktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`protocol`<br/>int</th>
    <td>
        Das zu verwendende MQTT-Protokoll
        - **0** - MQTT (MQTT über TCP; unverschlüsselt)
        - **1** - MQTTS (MQTT über TLS; verschlüsselt)
        - **2** - WS (MQTT über WebSocket; unverschlüsselt)
        - **3** - WSS (MQTT über WebSocket Secure bzw. MQTT über WebSocket über TLS; verschlüsselt)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_host`<br/>string</th>
    <td>
        Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_port`<br/>int</th>
    <td>
        Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_username`<br/>string</th>
    <td>
        Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_password`<br/>string</th>
    <td>
        Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_topic_prefix`<br/>string</th>
    <td>
        Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_name`<br/>string</th>
    <td>
        Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong>
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`interval`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Minimales Sendeintervall pro Topic in Sekunden. Nachrichten werden grundsätzlich nur verschickt, wenn Änderungen am Payload vorliegen. Durch ein Sendeintervall von x Sekunden wird alle x Sekunden höchstens eine Nachricht eines Topics verschickt. Falls sich der Inhalt in x Sekunden mehrfach ändert wird nur der aktuellste Inhalt übertragen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`path`<br/>string</th>
    <td>
        Teil der MQTT-über-WS-URL hinter dem Hostnamen. Muss mit / beginnen. Wird ignoriert wenn "protocol" 0 oder 1 gewählt sind.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`cert_id`<br/>int</th>
    <td>
        ID des CA-Zertifikats, dass zur Prüfung des Zertifikats des MQTTS bzw. WSS-Servers benutzt wird. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Verwende eingebettetes Zertifikatsbundle
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_cert_id`<br/>int</th>
    <td>
        ID des Client-Zertifikats, dass zum Aufbau einer TLS-verschlüsselten Verbindung verwendet werden soll. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_key_id`<br/>int</th>
    <td>
        ID des Zertifikats-Keys mit dem das Client-Zertifikat verschlüsselt ist. (Optional) Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/auto_discovery_config` {#mqtt_auto_discovery_config_warp2}

Die Konfiguration der MQTT Auto Discovery. Diese kann über mqtt/auto_discovery_config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_mode`<br/>int</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **0** - Auto Discovery deaktiviert
        - **1** - Auto Discovery im generischen Modus; Kompatibel zu z.B. openHAB und Domoticz
        - **2** - Auto Discovery im Home-Assistant-Modus
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_prefix`<br/>string</th>
    <td>
        Präfix auf den die für Auto Discovery verwendeten Informationen gesendet werden. Typischerweise homeassistent
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp3">
<br/><br/><br/>
## `mqtt/state` {#mqtt_state_warp3}

Der aktuelle MQTT-Zustand.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_state`<br/>int</th>
    <td>
        Zustand der Verbindung zum MQTT-Broker
        - **0** - Nicht konfiguriert
        - **1** - Nicht verbunden
        - **2** - Verbunden
        - **3** - Fehler
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_error`<br/>int</th>
    <td>
        Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_start`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung aufgebaut wurde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_end`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung getrennt wurde.
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/config` {#mqtt_config_warp3}

Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_mqtt`<br/>bool</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **true** - Wenn MQTT aktiviert ist.
        - **false** - Wenn MQTT deaktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`protocol`<br/>int</th>
    <td>
        Das zu verwendende MQTT-Protokoll
        - **0** - MQTT (MQTT über TCP; unverschlüsselt)
        - **1** - MQTTS (MQTT über TLS; verschlüsselt)
        - **2** - WS (MQTT über WebSocket; unverschlüsselt)
        - **3** - WSS (MQTT über WebSocket Secure bzw. MQTT über WebSocket über TLS; verschlüsselt)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_host`<br/>string</th>
    <td>
        Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_port`<br/>int</th>
    <td>
        Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_username`<br/>string</th>
    <td>
        Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_password`<br/>string</th>
    <td>
        Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_topic_prefix`<br/>string</th>
    <td>
        Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_name`<br/>string</th>
    <td>
        Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong>
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`interval`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Minimales Sendeintervall pro Topic in Sekunden. Nachrichten werden grundsätzlich nur verschickt, wenn Änderungen am Payload vorliegen. Durch ein Sendeintervall von x Sekunden wird alle x Sekunden höchstens eine Nachricht eines Topics verschickt. Falls sich der Inhalt in x Sekunden mehrfach ändert wird nur der aktuellste Inhalt übertragen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`path`<br/>string</th>
    <td>
        Teil der MQTT-über-WS-URL hinter dem Hostnamen. Muss mit / beginnen. Wird ignoriert wenn "protocol" 0 oder 1 gewählt sind.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`cert_id`<br/>int</th>
    <td>
        ID des CA-Zertifikats, dass zur Prüfung des Zertifikats des MQTTS bzw. WSS-Servers benutzt wird. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Verwende eingebettetes Zertifikatsbundle
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_cert_id`<br/>int</th>
    <td>
        ID des Client-Zertifikats, dass zum Aufbau einer TLS-verschlüsselten Verbindung verwendet werden soll. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_key_id`<br/>int</th>
    <td>
        ID des Zertifikats-Keys mit dem das Client-Zertifikat verschlüsselt ist. (Optional) Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/auto_discovery_config` {#mqtt_auto_discovery_config_warp3}

Die Konfiguration der MQTT Auto Discovery. Diese kann über mqtt/auto_discovery_config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_mode`<br/>int</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **0** - Auto Discovery deaktiviert
        - **1** - Auto Discovery im generischen Modus; Kompatibel zu z.B. openHAB und Domoticz
        - **2** - Auto Discovery im Home-Assistant-Modus
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_prefix`<br/>string</th>
    <td>
        Präfix auf den die für Auto Discovery verwendeten Informationen gesendet werden. Typischerweise homeassistent
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem">
<br/><br/><br/>
## `mqtt/state` {#mqtt_state_wem}

Der aktuelle MQTT-Zustand.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_state`<br/>int</th>
    <td>
        Zustand der Verbindung zum MQTT-Broker
        - **0** - Nicht konfiguriert
        - **1** - Nicht verbunden
        - **2** - Verbunden
        - **3** - Fehler
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_error`<br/>int</th>
    <td>
        Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_start`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung aufgebaut wurde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_end`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung getrennt wurde.
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/config` {#mqtt_config_wem}

Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_mqtt`<br/>bool</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        - **true** - Wenn MQTT aktiviert ist.
        - **false** - Wenn MQTT deaktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`protocol`<br/>int</th>
    <td>
        Das zu verwendende MQTT-Protokoll
        - **0** - MQTT (MQTT über TCP; unverschlüsselt)
        - **1** - MQTTS (MQTT über TLS; verschlüsselt)
        - **2** - WS (MQTT über WebSocket; unverschlüsselt)
        - **3** - WSS (MQTT über WebSocket Secure bzw. MQTT über WebSocket über TLS; verschlüsselt)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_host`<br/>string</th>
    <td>
        Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_port`<br/>int</th>
    <td>
        Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_username`<br/>string</th>
    <td>
        Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_password`<br/>string</th>
    <td>
        Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_topic_prefix`<br/>string</th>
    <td>
        Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_name`<br/>string</th>
    <td>
        Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong>
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`interval`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Minimales Sendeintervall pro Topic in Sekunden. Nachrichten werden grundsätzlich nur verschickt, wenn Änderungen am Payload vorliegen. Durch ein Sendeintervall von x Sekunden wird alle x Sekunden höchstens eine Nachricht eines Topics verschickt. Falls sich der Inhalt in x Sekunden mehrfach ändert wird nur der aktuellste Inhalt übertragen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`path`<br/>string</th>
    <td>
        Teil der MQTT-über-WS-URL hinter dem Hostnamen. Muss mit / beginnen. Wird ignoriert wenn "protocol" 0 oder 1 gewählt sind.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`cert_id`<br/>int</th>
    <td>
        ID des CA-Zertifikats, dass zur Prüfung des Zertifikats des MQTTS bzw. WSS-Servers benutzt wird. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Verwende eingebettetes Zertifikatsbundle
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_cert_id`<br/>int</th>
    <td>
        ID des Client-Zertifikats, dass zum Aufbau einer TLS-verschlüsselten Verbindung verwendet werden soll. Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_key_id`<br/>int</th>
    <td>
        ID des Zertifikats-Keys mit dem das Client-Zertifikat verschlüsselt ist. (Optional) Siehe [certs/state](certs.mdx#certs_state)
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>
    </tbody>
</table>


</TabItem>
<TabItem value="any">
<br/><br/><br/>
## `mqtt/state` {#mqtt_state_any}

Der aktuelle MQTT-Zustand.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_state`<br/>int</th>
    <td>
        Zustand der Verbindung zum MQTT-Broker
        
        
        
        - **0** - Nicht konfiguriert
        - **1** - Nicht verbunden
        - **2** - Verbunden
        - **3** - Fehler
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_error`<br/>int</th>
    <td>
        Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_start`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung aufgebaut wurde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`connection_end`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Zeit in Millisekunden zu der die letzte Verbindung getrennt wurde.
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/config` {#mqtt_config_any}

Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_mqtt`<br/>bool</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        
        
        
        - **true** - Wenn MQTT aktiviert ist.
        - **false** - Wenn MQTT deaktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`protocol`<br/>int</th>
    <td>
        Das zu verwendende MQTT-Protokoll
        
        
        
        - **0** - MQTT (MQTT über TCP; unverschlüsselt)
        - **1** - MQTTS (MQTT über TLS; verschlüsselt)
        - **2** - WS (MQTT über WebSocket; unverschlüsselt)
        - **3** - WSS (MQTT über WebSocket Secure bzw. MQTT über WebSocket über TLS; verschlüsselt)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_host`<br/>string</th>
    <td>
        Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_port`<br/>int</th>
    <td>
        Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_username`<br/>string</th>
    <td>
        Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`broker_password`<br/>string</th>
    <td>
        Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_topic_prefix`<br/>string</th>
    <td>
        Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_name`<br/>string</th>
    <td>
        Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong>
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`interval`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Minimales Sendeintervall pro Topic in Sekunden. Nachrichten werden grundsätzlich nur verschickt, wenn Änderungen am Payload vorliegen. Durch ein Sendeintervall von x Sekunden wird alle x Sekunden höchstens eine Nachricht eines Topics verschickt. Falls sich der Inhalt in x Sekunden mehrfach ändert wird nur der aktuellste Inhalt übertragen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`path`<br/>string</th>
    <td>
        Teil der MQTT-über-WS-URL hinter dem Hostnamen. Muss mit / beginnen. Wird ignoriert wenn "protocol" 0 oder 1 gewählt sind.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`cert_id`<br/>int</th>
    <td>
        ID des CA-Zertifikats, dass zur Prüfung des Zertifikats des MQTTS bzw. WSS-Servers benutzt wird. Siehe [certs/state](certs.mdx#certs_state)
        
        
        
        - **-1** - Verwende eingebettetes Zertifikatsbundle
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_cert_id`<br/>int</th>
    <td>
        ID des Client-Zertifikats, dass zum Aufbau einer TLS-verschlüsselten Verbindung verwendet werden soll. Siehe [certs/state](certs.mdx#certs_state)
        
        
        
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`client_key_id`<br/>int</th>
    <td>
        ID des Zertifikats-Keys mit dem das Client-Zertifikat verschlüsselt ist. (Optional) Siehe [certs/state](certs.mdx#certs_state)
        
        
        
        - **-1** - Nicht verwendet
        - **>= 0** - Verwende Zertifikat mit dieser ID
    </td>
</tr>
    </tbody>
</table>


<br/><br/><br/>
## `mqtt/auto_discovery_config` {#mqtt_auto_discovery_config_any}
**Benötigt das Feature <a href="#features_evse"><code>"evse"</code></a>**
Die Konfiguration der MQTT Auto Discovery. Diese kann über mqtt/auto_discovery_config_update mit dem selben Payload aktualisiert werden.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_mode`<br/>int</th>
    <td>
        Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
        
        
        
        - **0** - Auto Discovery deaktiviert
        - **1** - Auto Discovery im generischen Modus; Kompatibel zu z.B. openHAB und Domoticz
        - **2** - Auto Discovery im Home-Assistant-Modus
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`auto_discovery_prefix`<br/>string</th>
    <td>
        Präfix auf den die für Auto Discovery verwendeten Informationen gesendet werden. Typischerweise homeassistent
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "mqtt/state",
    "id": "mqtt_state",
    "level": 2,
    
},{
    "value": "mqtt/config",
    "id": "mqtt_config",
    "level": 2,
    
},{
    "value": "mqtt/auto_discovery_config",
    "id": "mqtt_auto_discovery_config",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},
];
