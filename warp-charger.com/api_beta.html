<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>WARP Charger</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="lib/animate/animate.min.css" rel="stylesheet">
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">

  <!-- Add non-invasive analytics. There is no cookie set and no personal data saved -->
  <script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
    var u="//www.tinkerforge.com/analytics/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '1']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
</head>

<body data-spy="scroll" data-target="#navbar" data-offset="100">

  <!--==========================
    Header
  ============================-->
  <header id="mqtt_header" class="header header-scrolled" style="position: sticky;">
    <div class="container-fluid">
      <div id="logo" class="pull-left">
        <!-- Uncomment below if you prefer to use an image logo -->
        <a href="index.html"><img src="img/logo.png" alt="" title="" /></a>
      </div>

      <nav id="nav-menu-container">
        <ul class="nav-menu nav-menu-top">
            <li><a href="/">HOME</a></li>
            <li><a href="/faq.html">FAQ</a></li>
            <li><a href="/api.html">API</a></li>
            <li><a href="/evcc.html">EVCC</a></li>
            <li><a href="https://www.tinkerforge.com/de/shop/warp/wallbox.html">SHOP <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
            <li><a href="https://www.tinkerforge.com/de/blog/">BLOG <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
            <li><a href="https://www.tinkerunity.org/forum/13-warp-charger/l">FORUM <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li>
            <li><a href="/index_warp1.html">WARP1</a></li>
          </ul>
      </nav><!-- #nav-menu-container -->
    </div>
  </header><!-- #header -->
  <div class="row" style="margin-right: 0">
    <nav id="navbar" class="navbar navbar-light navbar-test d-none d-lg-flex bg-light align-items-start">
        <nav class="nav nav-pills flex-column ml-2">
            <a class="navbar-brand" href="#">Inhalt</a>
            <a class="nav-link" href="#mqtt_main">Einführung</a>
            <div class="collapse">
                <nav class="nav nav-pills flex-column">
                </nav>
            </div>

            <a class="nav-link" href="#mqtt_section">MQTT</a>
            <div class="collapse">
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link ml-3" href="#mqtt_section_configuration">Konfiguration</a>
                    <a class="nav-link ml-3" href="#mqtt_section_basics">Grundlagen</a>
                </nav>
            </div>

            <a class="nav-link" href="#http_section">HTTP</a>
            <div class="collapse">
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link ml-3" href="#http_section_configuration">Konfiguration</a>
                    <a class="nav-link ml-3" href="#http_section_basics">Grundlagen</a>
                    <a class="nav-link ml-3" href="#http_section_auth">Authentifizierung</a>
                </nav>
            </div>

            <a class="nav-link" href="#states_section">Zustände, Kommandos und Konfigurationen</a>
            <div class="collapse">
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link ml-3" href="#states_section_states">Zustände</a>
                    <a class="nav-link ml-3" href="#states_section_commands">Kommandos</a>
                    <a class="nav-link ml-3" href="#states_section_configs">Konfigurationen</a>
                </nav>
            </div>

            <a class="nav-link" href="#reference">API-Referenz</a>
            <div class="collapse">
                <nav class="nav nav-pills flex-column">
                    <a class="nav-link ml-3" href="#reference-evse">Ladecontroller (EVSE)</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#evse_state" style="margin-left: 2rem !important;">evse/<wbr>state</a>
<a class="nav-link" href="#evse_hardware_configuration" style="margin-left: 2rem !important;">evse/<wbr>hardware_configuration</a>
<a class="nav-link" href="#evse_slots" style="margin-left: 2rem !important;">evse/<wbr>slots</a>
<a class="nav-link" href="#evse_energy_meter_values" style="margin-left: 2rem !important;">evse/<wbr>energy_meter_values</a>
<a class="nav-link" href="#evse_energy_meter_errors" style="margin-left: 2rem !important;">evse/<wbr>energy_meter_errors</a>
<a class="nav-link" href="#evse_button_state" style="margin-left: 2rem !important;">evse/<wbr>button_state</a>
<a class="nav-link" href="#evse_indicator_led" style="margin-left: 2rem !important;">evse/<wbr>indicator_led</a>
<a class="nav-link" href="#evse_low_level_state" style="margin-left: 2rem !important;">evse/<wbr>low_level_state</a>
<a class="nav-link" href="#evse_external_current" style="margin-left: 2rem !important;">evse/<wbr>external_current</a>
<a class="nav-link" href="#evse_external_clear_on_disconnect" style="margin-left: 2rem !important;">evse/<wbr>external_clear_on_disconnect</a>
<a class="nav-link" href="#evse_management_current" style="margin-left: 2rem !important;">evse/<wbr>management_current</a>
<a class="nav-link" href="#evse_auto_start_charging" style="margin-left: 2rem !important;">evse/<wbr>auto_start_charging</a>
<a class="nav-link" href="#evse_global_current" style="margin-left: 2rem !important;">evse/<wbr>global_current</a>
<a class="nav-link" href="#evse_management_enabled" style="margin-left: 2rem !important;">evse/<wbr>management_enabled</a>
<a class="nav-link" href="#evse_user_slot_enabled" style="margin-left: 2rem !important;">evse/<wbr>user_slot_enabled</a>
<a class="nav-link" href="#evse_external_enabled" style="margin-left: 2rem !important;">evse/<wbr>external_enabled</a>
<a class="nav-link" href="#evse_external_defaults" style="margin-left: 2rem !important;">evse/<wbr>external_defaults</a>
<a class="nav-link" href="#evse_gpio_configuration" style="margin-left: 2rem !important;">evse/<wbr>gpio_configuration</a>
<a class="nav-link" href="#evse_button_configuration" style="margin-left: 2rem !important;">evse/<wbr>button_configuration</a>
<a class="nav-link" href="#evse_user_calibration" style="margin-left: 2rem !important;">evse/<wbr>user_calibration</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#evse_reset_dc_fault_current_state" style="margin-left: 2rem !important;">evse/<wbr>reset_dc_fault_current_state</a>
<a class="nav-link" href="#evse_stop_charging" style="margin-left: 2rem !important;">evse/<wbr>stop_charging</a>
<a class="nav-link" href="#evse_start_charging" style="margin-left: 2rem !important;">evse/<wbr>start_charging</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#evse_start_debug" style="margin-left: 2rem !important;">evse/<wbr>start_debug</a>
<a class="nav-link" href="#evse_stop_debug" style="margin-left: 2rem !important;">evse/<wbr>stop_debug</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-meter">Stromzähler</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#meter_state" style="margin-left: 2rem !important;">meter/<wbr>state</a>
<a class="nav-link" href="#meter_values" style="margin-left: 2rem !important;">meter/<wbr>values</a>
<a class="nav-link" href="#meter_phases" style="margin-left: 2rem !important;">meter/<wbr>phases</a>
<a class="nav-link" href="#meter_error_counters" style="margin-left: 2rem !important;">meter/<wbr>error_counters</a>
<a class="nav-link" href="#meter_all_values" style="margin-left: 2rem !important;">meter/<wbr>all_values</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#meter_reset" style="margin-left: 2rem !important;">meter/<wbr>reset</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#meter_history" style="margin-left: 2rem !important;">meter/<wbr>history</a>
<a class="nav-link" href="#meter_live" style="margin-left: 2rem !important;">meter/<wbr>live</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-charge_manager">Lastmanager</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#charge_manager_available_current" style="margin-left: 2rem !important;">charge_manager/<wbr>available_current</a>
<a class="nav-link" href="#charge_manager_state" style="margin-left: 2rem !important;">charge_manager/<wbr>state</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#charge_manager_config" style="margin-left: 2rem !important;">charge_manager/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-users">Benutzerverwaltung</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#users_config" style="margin-left: 2rem !important;">users/<wbr>config</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#users_add" style="margin-left: 2rem !important;">users/<wbr>add</a>
<a class="nav-link" href="#users_delete" style="margin-left: 2rem !important;">users/<wbr>delete</a>
<a class="nav-link" href="#users_modify" style="margin-left: 2rem !important;">users/<wbr>modify</a>
<a class="nav-link" href="#users_http_auth_update" style="margin-left: 2rem !important;">users/<wbr>http_auth_update</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#users_all_usernames" style="margin-left: 2rem !important;">users/<wbr>all_usernames</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-charge_tracker">Ladetracker</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#charge_tracker_last_charges" style="margin-left: 2rem !important;">charge_tracker/<wbr>last_charges</a>
<a class="nav-link" href="#charge_tracker_current_charge" style="margin-left: 2rem !important;">charge_tracker/<wbr>current_charge</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#charge_tracker_charge_log" style="margin-left: 2rem !important;">charge_tracker/<wbr>charge_log</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-nfc">NFC-Ladefreigabe</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#nfc_seen_tags" style="margin-left: 2rem !important;">nfc/<wbr>seen_tags</a>
<a class="nav-link" href="#nfc_last_tag" style="margin-left: 2rem !important;">nfc/<wbr>last_tag</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#nfc_inject_tag" style="margin-left: 2rem !important;">nfc/<wbr>inject_tag</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#nfc_config" style="margin-left: 2rem !important;">nfc/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-network">Netzwerk-Konfiguration</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#network_config" style="margin-left: 2rem !important;">network/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-wifi">WLAN-Konfiguration</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#wifi_state" style="margin-left: 2rem !important;">wifi/<wbr>state</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#wifi_scan" style="margin-left: 2rem !important;">wifi/<wbr>scan</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#wifi_sta_config" style="margin-left: 2rem !important;">wifi/<wbr>sta_config</a>
<a class="nav-link" href="#wifi_ap_config" style="margin-left: 2rem !important;">wifi/<wbr>ap_config</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#wifi_scan_results" style="margin-left: 2rem !important;">wifi/<wbr>scan_results</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-ethernet">LAN-Verbindung</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#ethernet_state" style="margin-left: 2rem !important;">ethernet/<wbr>state</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#ethernet_config" style="margin-left: 2rem !important;">ethernet/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-ntp">Zeitsynchronisierung</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#ntp_state" style="margin-left: 2rem !important;">ntp/<wbr>state</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#ntp_config" style="margin-left: 2rem !important;">ntp/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-mqtt">MQTT-Verbindung</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#mqtt_state" style="margin-left: 2rem !important;">mqtt/<wbr>state</a>
<span class="ml-5">Konfigurationen</span>
<a class="nav-link" href="#mqtt_config" style="margin-left: 2rem !important;">mqtt/<wbr>config</a>
        </nav>
    </div>
<a class="nav-link ml-3" href="#reference-misc">Sonstiges</a>
    <div class="collapse">
        <nav class="nav nav-pills flex-column">
        <span class="ml-5">Zustände</span>
<a class="nav-link" href="#version" style="margin-left: 2rem !important;">version</a>
<a class="nav-link" href="#modules" style="margin-left: 2rem !important;">modules</a>
<a class="nav-link" href="#features" style="margin-left: 2rem !important;">features</a>
<span class="ml-5">Kommandos</span>
<a class="nav-link" href="#reboot" style="margin-left: 2rem !important;">reboot</a>
<span class="ml-5">HTTP-Spezifisch</span>
<a class="nav-link" href="#uptime" style="margin-left: 2rem !important;">uptime</a>
<a class="nav-link" href="#debug_report" style="margin-left: 2rem !important;">debug_report</a>
<a class="nav-link" href="#force_reboot" style="margin-left: 2rem !important;">force_reboot</a>
<a class="nav-link" href="#update" style="margin-left: 2rem !important;">update</a>
<a class="nav-link" href="#flash_firmware" style="margin-left: 2rem !important;">flash_firmware</a>
<a class="nav-link" href="#flash_spiffs" style="margin-left: 2rem !important;">flash_spiffs</a>
        </nav>
    </div>
                </nav>
            </div>
        </nav>
    </nav>

  <!--==========================
    Intro Section
  ============================-->
  <main id="mqtt_main" class="col-lg-8">
    <header id="start" class="reference-section-header pt-4"><h2>MQTT- und HTTP-API</h2></header>
    <section id="api_intro" class="section">
        <div class="container">
            <header class="reference-section-header">
                <h3>Einführung</h3>
            </header>
            <p>Die Varianten WARP Charger Smart und WARP Charger Pro können über MQTT und HTTP den aktuellen Zustand melden und gesteuert werden.
                Während die MQTT-API zunächst aktiviert und konfiguriert werden muss, kann die HTTP-API sofort verwendet werden, da sie auch
                vom Webinterface selbst benutzt wird.
            </p>
        </div>
    </section>
    <section id="mqtt_section" class="section">
        <div class="container">
            <header class="reference-section-header">
                <h3>MQTT</h3>
            </header>
        </div>
        <div id="mqtt_section_configuration" class="container">
            <h4>Konfiguration</h4>
            <p>Damit die Wallbox über MQTT kommuniziert, muss zunächst im Webinterface die Verbindung zum MQTT-Broker konfiguriert werden.
                Folgende Einstellungen können vorgenommen werden:</p>
            <div class="row pb-2">
                <div class="col-md-12 col-lg-6">
                    <ul>
                        <li><b>Broker-Hostname oder IP-Adresse</b>: Der Hostname oder die IP-Adresse des Brokers zu dem sich die Wallbox verbinden soll.</li>
                        <li><b>Broker-Port</b>: Der Port unter dem der Broker erreichbar ist. Der typische MQTT-Port 1883 ist voreingestellt.</li>
                        <li><b>Broker-Benutzername und Passwort</b>: Manche Broker unterstützen eine Authentifizierung mit Benutzername und Passwort.</li>
                        <li><b>Topic-Präfix</b>: Dieser Präfix wird allen Topics vorangestellt, die die Wallbox verwendet.
                            Voreingestellt ist warp/ABC wobei ABC eine eindeutige Kennung pro Wallbox ist,
                            es sind aber andere Präfixe wie z.B. garage_links möglich.
                            Falls mehrere Wallboxen mit dem selben Broker kommunizieren <strong>müssen</strong> eindeutige Präfixe pro Box gewählt werden.</li>
                        <li><b>Client-ID</b>: Mit dieser ID registriert sich die Wallbox beim Broker.</li>
                    </ul>
                    <p>Nachdem die Konfiguration gesetzt und der "MQTT aktivieren"-Schalter gesetzt ist, kann die Konfiguration gespeichert werden.
                    Der ESP startet dann neu und verbindet sich zum Broker. Auf der Status-Seite wird angezeigt, ob die Verbindung aufgebaut werden konnte.</p>
                </div>
                <div class="col-md-12 col-lg-6">
                    <div class="impressions-container">
                        <div class="impressions-item filter-warp-charger" style="height: auto;">
                            <figure style="height: auto;">
                                <a href="img/mqtt/mqtt_ui.png" data-lightbox="impressions" data-title="MQTT-Konfiguration" class="link-preview" title="Preview">
                                    <img src="img/mqtt/mqtt_ui.png" class="img-fluid" alt="">
                                </a>
                            </figure>
                            <div class="impressions-info">
                                MQTT-Konfiguration
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p>Im Folgenden werden die <a href="https://mosquitto.org/man/mosquitto_pub-1.html">mosquitto_pub</a> und
            <a href="https://mosquitto.org/man/mosquitto_sub-1.html">mosquitto_sub</a>-Befehle des
            <a href="https://mosquitto.org/">Mosquitto-MQTT-Brokers</a> verwendet, um mit dem Broker zu kommunizieren.</p>
        </div>
        <div id="mqtt_section_basics" class="container">
            <h4>Grundlagen</h4>
            <p>
                Wenn die Verbindung zum Broker erfolgreich aufgebaut wurde, sollten jetzt bereits erste Nachrichten der Wallbox eintreffen.
                Sämtliche Nachrichten der Wallbox sind Strings im <a href="https://www.json.org/json-de.html">JSON-Format</a>.
                Genauso müssen alle Nachrichten, die zur Wallbox geschickt werden, das JSON-Format einhalten.
            </p>
            <p>
                Mit <code>mosquitto_sub -v -t "warp/ABC/#"</code> können alle Nachrichten der Wallbox angezeigt werden.
                (Den Präfix warp/ABC gegebenenfalls durch den konfigurierten ersetzen)
                Es könnte z.B. die folgende Nachricht empfangen werden:

                <samp class="samp-box">warp/ABC/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a> {"max_current_configured":32000, "max_current_incoming_cable":13000, "max_current_outgoing_cable":16000}</samp>

                Die Nachrichten des Topics <samp><a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a></samp> geben an,
                welchen Limitierungen der Ladestrom unterliegt.
                Im konkreten Fall begrenzt die Software den Ladestrom auf 32 Ampere, das zur Wallbox führende Kabel ihn auf 13, das zum Fahrzeug gehende Kabel ihn auf 16 Ampere.
                Der maximal mögliche Ladestrom ist immer das Minimum dieser Werte, also in diesem Fall 13 Ampere.
            </p>
            <p>
                Durch Senden der Nachricht <samp>{"current":8000}</samp> an das Topic <samp>warp/ABC/<a class="scrollto" href="#evse_current_limit">evse/current_limit</a></samp>
                kann der Ladestrom auf 8 Ampere begrenzt werden, zum Beispiel so:
                <code>mosquitto_pub -t "warp/ABC/<a class="scrollto" href="#evse_current_limit">evse/current_limit</a>" -m "{\"current\": 8000}'</code>
                (Damit die Beispiele auch mit cmd.exe von Windows kompatibel sind, werden nur doppelte Anführungszeichen verwendet. Anführungszeichen in JSON-Nachrichten müssen deshalb mit \ escapt werden.)
                Der Ladestrom ist jetzt auf 8 Ampere begrenzt, was die Wallbox durch eine neue Nachricht anzeigt:

                <samp class="samp-box">warp/ABC/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a> {"max_current_configured":8000, "max_current_incoming_cable":13000, "max_current_outgoing_cable":16000}</samp>
            </p>
        </div>
    </section>

    <section id="http_section" class="section">
        <div class="container">
            <header class="reference-section-header">
                <h3>HTTP</h3>
            </header>
        </div>
            <div id="http_section_configuration" class="container">
                <h4>Konfiguration</h4>
                <p>
                    Die HTTP-API kann ohne vorherige Konfiguration verwendet werden.
                </p>
            </div>
            <div id="http_section_basics" class="container">
                <h4>Grundlagen</h4>
                <p>
                    Die HTTP-API funktioniert strukturell identisch wie die MQTT-API:
                    Wenn die MQTT-API beispielsweise das Topic <code>warp/ABC/evse/state</code> verwendet,
                    kann die selbe API über die URL <code>http://[IP-Adresse oder Hostname der Wallbox]/evse/state</code> erreicht werden.
                    Die HTTP-API verfügt allerdings über <a class="scrollto" href="#http-only">fortgeschrittene Funktionen</a>, die nicht über MQTT verfügbar sind.
                    Es können zusätzlich die <a href="https://en.wikipedia.org/wiki/Server-sent_events">Server-Sent-Events (SSE)</a> unter
                    <code>http://[IP-Adresse oder Hostname der Wallbox]/events</code> verwendet werden,
                    die von der Wallbox automatisch ausgelöst werden.
                </p>
                <p>
                    Um Analog zum MQTT-Beispiel alle von der Wallbox gesendeten Nachrichten zu empfangen, kann die Event-Verbindung
                    genutzt werden. Hierzu und für die weiteren Beispiele wird <a href="https://curl.se/">cURL</a> verwendet und davon ausgegangen, dass
                    die Wallbox unter der IP-Adresse 10.0.0.1 erreichbar ist.
                </p>
                <p>
                    Mit <code>curl -N 10.0.0.1/events</code> könnte unter anderem folgende Nachricht empfangen werden:
                    <samp class="samp-box">
                        retry: 1000
                        id: 238659782
                        event: <a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a>
                        data: {"max_current_configured":32000, "max_current_incoming_cable":13000, "max_current_outgoing_cable":16000}
                    </samp>
                    Diese Nachricht ist äquivalent zu der aus den MQTT-Grundlagen: Die Wallbox-Software begrenzt den Ladestorm auf 32 Ampere,
                    das Anschlusskabel der Box ihn auf 13 Ampere und das zum Fahrzeug führende Kabel auf 16 Ampere. Es kann also mit 13 Ampere geladen werden.
                </p>
                <p>
                    Wenn nur eine Information abgefragt werden soll, kann mit cURL eine einzelne URL aufgerufen werden:
                    <code class="code-box">
                        curl -s http://10.0.0.1/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a>
                    </code>
                    liefert die gleichen JSON-Daten:
                    <samp class="samp-box">
                        {"max_current_configured":32000, "max_current_incoming_cable":13000, "max_current_outgoing_cable":16000}
                    </samp>
                    Mit <a href="https://stedolan.github.io/jq/">jq</a> können einzelne Werte aus einem JSON-Objekt extrahiert werden.
                    <code class="code-box">
                        curl -s http://10.0.0.1/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a> | jq ".max_current_configured"
                    </code>
                    gibt 32000, also den konfigurierten Ladestrom von 32 Ampere zurück.
                </p>
                <p>
                    Jetzt soll der Ladestrom auf 8 Ampere begrenzt werden. Dafür wird die Nachricht <code>{"current":8000}</code> an die URL <code>http://10.0.0.1/<a class="scrollto" href="#evse_current_limit">evse/current_limit</a></code>
                    geschickt:
                    <code class="code-box">
                        curl -H "Content-Type: application/json" -X PUT -d "{\"current\":8000}" 10.0.0.1/<a class="scrollto" href="#evse_current_limit">evse/current_limit</a></samp>
                    </code>
                    Wichtig ist hierbei, den Content-Type-Header auf application/json zu setzen, da die Anfrage sonst ignoriert wird. Es können sowohl PUT, POST, als auch PATCH verwendet werden, die API verhält sich in allen drei Fällen gleich.<br>
                </p>
                <p>
                    Zur Kontrolle:
                    <code class="code-box">
                        curl -s http://10.0.0.1/<a class="scrollto" href="#evse_state">evse/state</a> | jq ".allowed_charging_current"
                    </code> liefert den erlaubten Ladestrom (also das Minimum der oben erlaubten Ströme), was jetzt <samp>8000</samp>, also 8 Ampere sein sollten.
                </p>
            </div>
            <div id="http_section_auth" class="container">
                <h4>Authentifizierung</h4>
                <p>
                    Die HTTP-API und das Webinterface können durch einen Benutzernamen und ein Passwort geschützt werden.
                    Die Authentifizierung kann im System-Abschnitt des Webinterfaces unter Zugangsdaten aktiviert werden.
                    Alle Requests müssen dann mit der <a href="https://en.wikipedia.org/wiki/Digest_access_authentication">Digest access authentication</a> authentisiert werden.
                    Nicht authentifizierte Requests werden von der Wallbox mit dem HTTP-Code 401 beantwortet. Eine Ausnahme bildet die Hauptseite des Webinterfaces, die den meisten Browsern
                    auf einen nicht authentifizierten Request mit der Login-Seite antwortet.
                </p>
            </div>
    </section>
    <section id="states_section" class="section">
        <div class="container">
          <header class="reference-section-header">
              <h3>Zustände, Kommandos und Konfigurationen</h3>
          </header>
        <p>
            Die Wallbox bietet über MQTT und HTTP drei Arten von Schnittstellen: Zustände, Kommandos und Konfigurationen.
        </p>
        </div>
        <div id="states_section_states" class="container">
        <h4>Zustände</h4>
        <p>
            Zustände sind Statusinformationen, die die Wallbox kontinuierlich an den Broker schickt. Zustände können nicht direkt geändert werden,
            es ist aber möglich, dass Kommandos und Konfigurationen auf indirekte Weise Zustände beeinflussen. So kann durch Verwenden des
            <code><a class="scrollto" href="#evse_current_limit">evse/current_limit</a></code>-Kommandos der konfigurierte Ladestrom soweit gesenkt werden,
            dass er den erlaubten Ladestrom des
            <samp><a class="scrollto" href="#evse_state">evse/state</a></samp>-Zustands verändert. Zustände können vom Broker durch Subscriptions abgefragt werden:
            <code>mosquitto_sub -v -t "warp/ABC/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a>"</code>
            liefert beispielsweise

            <samp class="samp-box">warp/ABC/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a> {"max_current_configured":8000, "max_current_incoming_cable":13000, "max_current_outgoing_cable":16000}</samp>
            Für die HTTP-API funktioniert ein GET auf die entsprechende URL identisch:
            <code>
                curl -s http://10.0.0.1/<a class="scrollto" href="#evse_max_charging_current">evse/max_charging_current</a>
            </code>
        </p>
        </div>
        <div id="states_section_commands" class="container">
        <h4>Kommandos</h4>
        <p>
            Kommandos können durch publishen auf das entsprechende Topic ausgelöst werden. <strong>Der MQTT-Payload eines Kommandos muss immer gültiges JSON sein.</strong>
            Das heißt insbesondere, dass ein Kommando, das keine Informationen benötigt, nicht mit einer leeren Nachricht aufgerufen werden darf, sondern mit <code>null</code>.
            Um einen Neustart des ESPs auszulösen kann beispielsweise folgendes Kommando verwendet werden:

            <code class="code-box">mosquitto_pub -t "warp/ABC/<a class="scrollto" href="#reboot">reboot</a>" -m "null"</code>
            Der analoge HTTP-Request wäre:
            <code class="code-box">
                curl -H "Content-Type: application/json" -X PUT -d "null" http://10.0.0.1/<a class="scrollto" href="#reboot">reboot</a>
            </code>

            Bestimmte Kommandos ändern den Zustand der Wallbox nicht direkt, sondern lösen einmalige Ereignisse aus. Ein Beispiel ist
            <a class="scrollto" href="#evse_stop_charging">evse/stop_charging</a>, das einen Ladevorgang abbricht. Falls ein Kommando
            dieser Art mit dem MQTT-Retain-Flag auf dem Broker hinterlegt wird, wird es nach einen Verbindungsaufbau von der Wallbox ignoriert.
            Das verhindert, dass eigentlich einmalige Ereignisse mehrfach ausgeführt werden.
        </p>
        </div>
        <div id="states_section_configs" class="container">
        <h4>Konfigurationen</h4>
        <p>
            Konfigurationen können sowohl gelesen, als auch geschrieben werden. Da sie im Flash des ESPs abgelegt werden, muss aber, damit eine aktualisierte
            Konfiguration verwendet wird, nach der Aktualisierung ein Neustart des ESPs ausgelöst werden. Konfigurationen werden unter dem jeweiligen Pfad von der
            Wallbox gepublisht. Aktualisierungen werden auf dem speziellen Suffix <code>_update</code> entgegengenommen. Es können dabei nicht zu verändernde Einträge
            der Konfiguration durch <code>null</code> ausgedrückt werden.
        </p>
        <p>Wenn zum Beispiel die Access-Point-Konfiguration der Wallbox wie folgt abgefragt wird:

            <code class="code-box">mosquitto_sub -v -t "warp/ABC/<a class="scrollto" href="#wifi_ap_config">wifi/ap_config</a>"</code>

            <samp class="samp-box">
                "warp/ABC/<a class="scrollto" href="#wifi_ap_config">wifi/ap_config</a>": {"enable_ap":true, "ap_fallback_only":false, "ssid":"warp-ABC", "hide_ssid":false, "passphrase":null, "hostname":"warp-ABC", "channel":1, "ip":[10,0,0,1], "gateway":[10,0,0,1], "subnet":[255,255,255,0]},
            </samp>

            kann der Access Point danach folgendermaßen in den Fallback-Modus gebracht werden:

            <code class="code-box">mosquitto_pub -t "warp/ABC/<a class="scrollto" href="#wifi_ap_config">wifi/ap_config_update</a>" -m "{<strong>\"ap_fallback_only\": true,</strong> \"enable_ap\":null, \"ssid\":null, \"hide_ssid\":null, \"passphrase\":null, \"hostname\":null, \"channel\":null, \"ip\":null, \"gateway\":null, \"subnet\":null}"</code>

            Danach muss, um die Konfiguration anzuwenden noch ein Neustart durchgeführt werden:

            <code class="code-box">mosquitto_pub -t "warp/ABC/<a class="scrollto" href="#reboot">reboot</a>" -m "null"</code>

            Der Access Point sollte dann ab jetzt nur noch aktiv sein, wenn die Verbindung zum konfigurierten WLAN fehlgeschlagen ist.
        </p>
        <p>
            Mit der HTTP-API kann äquivalent die Access-Point-Konfiguration mit
            <code class="code-box">
                curl -s http://10.0.0.1/<a class="scrollto" href="#wifi_ap_config">wifi/ap_config</a>
            </code>
            abgefragt werden, der Fallback-Modus mit
            <code class="code-box">
                curl http://10.0.0.1/<a class="scrollto" href="#wifi_ap_config">wifi/ap_config_update</a> -H "Content-Type: application/json" -X PUT -d "{<strong>\"ap_fallback_only\": true,</strong> \"enable_ap\":null, \"ssid\":null, \"hide_ssid\":null, \"passphrase\":null, \"hostname\":null, \"channel\":null, \"ip\":null, \"gateway\":null, \"subnet\":null}"
            </code>
            aktiviert werden und danach der Neustart mit
            <code class="code-box">
                curl -H "Content-Type: application/json" -X PUT -d "null" http://10.0.0.1/<a class="scrollto" href="#reboot">reboot</a>
            </code>
            ausgelöst werden.
        </p>
        </div>
    </section>
    <section id="reference" class="section row">
        <div class="container">
          <header class="reference-section-header">
              <h3>API-Referenz</h3>
          </header>

<section id="reference-evse" class="section any">
    <header class="reference-section-header">
        <h4>Ladecontroller (EVSE)</h4><h5>Benötigt das Feature "evse"</h5>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#evse_state">evse/state</a></li>
<li><a class="scrollto text-monospace" href="#evse_hardware_configuration">evse/hardware_configuration</a></li>
<li><a class="scrollto text-monospace" href="#evse_slots">evse/slots</a></li>
<li><a class="scrollto text-monospace" href="#evse_energy_meter_values">evse/energy_meter_values</a></li>
<li><a class="scrollto text-monospace" href="#evse_energy_meter_errors">evse/energy_meter_errors</a></li>
<li><a class="scrollto text-monospace" href="#evse_button_state">evse/button_state</a></li>
<li><a class="scrollto text-monospace" href="#evse_indicator_led">evse/indicator_led</a></li>
<li><a class="scrollto text-monospace" href="#evse_low_level_state">evse/low_level_state</a></li>
<li><a class="scrollto text-monospace" href="#evse_external_current">evse/external_current</a></li>
<li><a class="scrollto text-monospace" href="#evse_external_clear_on_disconnect">evse/external_clear_on_disconnect</a></li>
<li><a class="scrollto text-monospace" href="#evse_management_current">evse/management_current</a></li>
<li><a class="scrollto text-monospace" href="#evse_auto_start_charging">evse/auto_start_charging</a></li>
<li><a class="scrollto text-monospace" href="#evse_global_current">evse/global_current</a></li>
<li><a class="scrollto text-monospace" href="#evse_management_enabled">evse/management_enabled</a></li>
<li><a class="scrollto text-monospace" href="#evse_user_slot_enabled">evse/user_slot_enabled</a></li>
<li><a class="scrollto text-monospace" href="#evse_external_enabled">evse/external_enabled</a></li>
<li><a class="scrollto text-monospace" href="#evse_external_defaults">evse/external_defaults</a></li>
<li><a class="scrollto text-monospace" href="#evse_gpio_configuration">evse/gpio_configuration</a></li>
<li><a class="scrollto text-monospace" href="#evse_button_configuration">evse/button_configuration</a></li>
<li><a class="scrollto text-monospace" href="#evse_user_calibration">evse/user_calibration</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#evse_reset_dc_fault_current_state">evse/reset_dc_fault_current_state</a></li>
<li><a class="scrollto text-monospace" href="#evse_stop_charging">evse/stop_charging</a></li>
<li><a class="scrollto text-monospace" href="#evse_start_charging">evse/start_charging</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#evse_start_debug">evse/start_debug</a></li>
<li><a class="scrollto text-monospace" href="#evse_stop_debug">evse/stop_debug</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="evse_state">evse/state</div>
    Der Zustand des Ladecontrollers.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">iec61851_state<br/><span class="th-details">int</span></th>
    <td>Der aktuelle Zustand nach IEC 61851
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - A: Nicht verbunden</li>
    <li><strong>1</strong> - B: Verbunden</li>
    <li><strong>2</strong> - C: Lädt</li>
    <li><strong>3</strong> - D: Lädt mit Belüftung (nicht unterstützt)</li>
    <li><strong>4</strong> - E/F: Fehler</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">charger_state<br/><span class="th-details">int</span></th>
    <td>Der aktuelle Zustand, aufbereitet vom Ladecontroller
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht verbunden</li>
    <li><strong>1</strong> - Warte auf Ladefreigabe</li>
    <li><strong>2</strong> - Ladebereit</li>
    <li><strong>3</strong> - Lädt</li>
    <li><strong>4</strong> - Fehler</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">contactor_state<br/><span class="th-details">int</span></th>
    <td>Schützüberwachung. Überwacht wird die Spannung vor und nach dem Schütz
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht stromführend vor und nach dem Schütz</li>
    <li><strong>1</strong> - Stromführend vor, aber nicht stromführend nach dem Schütz</li>
    <li><strong>2</strong> - Nicht stromführend vor, aber stromführend nach dem Schütz</li>
    <li><strong>3</strong> - Stromführend vor und nach dem Schütz</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">contactor_error<br/><span class="th-details">int</span></th>
    <td>Fehlercode der Schützüberwachung. Ein Wert ungleich 0 zeigt einen Fehler an.</td>
</tr>

<tr class="any">
    <th scope="row">allowed_charging_current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Maximal erlaubter Ladestrom, der dem Fahrzeug zur Verfügung gestellt wird. Dieser Strom ist das Minimum der Stromgrenzen aller Ladeslots.</td>
</tr>

<tr class="any">
    <th scope="row">error_state<br/><span class="th-details">int</span></th>
    <td>Der aktuelle Fehlerzustand. <a href="https://www.warp-charger.com/#documents">Siehe Handbuch für Details.</a>
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - OK</li>
    <li><strong>1</strong> - Schalterfehler</li>
    <li><strong>2</strong> - DC-Fehlerstromüberwachungsfehler</li>
    <li><strong>3</strong> - Schützfehler</li>
    <li><strong>4</strong> - Kommunikationsfehler</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">lock_state<br/><span class="th-details">int</span></th>
    <td>Zustand der Kabelverriegelung (nur relevant für Wallboxen mit Typ-2-Dose)
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Initialisierung</li>
    <li><strong>1</strong> - Offen</li>
    <li><strong>2</strong> - Schließend</li>
    <li><strong>3</strong> - Geschlossen</li>
    <li><strong>4</strong> - Öffnend</li>
    <li><strong>5</strong> - Fehler</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">dc_fault_current_state<br/><span class="th-details">int</span></th>
    <td>Der Zustand des DC-Fehlerstrom-Schutzmoduls. Falls ein Gleichstromfehler auftritt, kann nicht mehr geladen werden, bis das Schutzmodul zurückgesetzt wurde. <strong>Vor dem Zurücksetzen muss der Grund des Fehlers unbedingt behoben werden!</strong> <a class="scrollto text-monospace" href="#evse_reset_dc_fault_current_state">evse/reset_dc_fault_current_state</a> setzt das Modul zurück.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Kein Fehler</li>
    <li><strong>1</strong> - 6 mA Fehlerstrom detektiert</li>
    <li><strong>2</strong> - Systemfehler</li>
    <li><strong>3</strong> - Unbekannter fehler</li>
    <li><strong>4</strong> - Kalibrierungsfehler</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_hardware_configuration">evse/hardware_configuration</div>
    Die Hardwarekonfiguration des Ladecontrollers.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">jumper_configuration<br/><span class="th-details">int</span></th>
    <td>Der Maximalstrom des eingehenden Kabels. Dieser Strom wird auf dem Ladecontroller durch Jumper oder eine Steckplatine mit Schaltern konfiguriert.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - 6 Ampere</li>
    <li><strong>1</strong> - 10 Ampere</li>
    <li><strong>2</strong> - 13 Ampere</li>
    <li><strong>3</strong> - 16 Ampere</li>
    <li><strong>4</strong> - 20 Ampere</li>
    <li><strong>5</strong> - 25 Ampere</li>
    <li><strong>6</strong> - 32 Ampere</li>
    <li><strong>7</strong> - Kontrolliert durch Software</li>
    <li><strong>8</strong> - Nicht konfiguriert</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">has_lock_switch<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die Wallbox über eine Kabelverriegelung verfügt.
<div class="any">
<ol class="ol-enum">
    <li><strong>false</strong> - Wallbox hat fest angeschlagenes Typ-2-Ladekabel</li>
    <li><strong>true</strong> - Wallbox hat eine Typ-2-Dose mit Kabelverriegelung</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">evse_version<br/><span class="th-details">int</span></th>
    <td>Hardware-Version des Ladecontrollers
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li><strong>20</strong> - EVSE 2.0</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">energy_meter_type<br/><span class="th-details">int</span></th>
    <td>Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jeder Wallbox unterstützt!
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Kein Stromzähler verfügbar</li>
</ol>
</div>
<div class="warp1_only">
<strong>WARP 1:</strong><br><ol class="ol-enum">
    <li><strong>1</strong> - SDM72</li>
</ol>
</div>
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li><strong>2</strong> - SDM630</li>
    <li><strong>3</strong> - SDM72V2</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_slots">evse/slots</div>
    Der Zustand der Ladeslots. Siehe TODO LINK für Details.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Index</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">[0..9]<br/><span class="th-details">object</span></th>
    <td>Ein Ladeslot
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">max_current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Maximal erlaubter Ladestrom. 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 falls der Slot blockiert.</td>
</tr>

<tr class="any">
    <th scope="row">active<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob dieser Slot aktiv ist.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Slot ist aktiv</li>
    <li><strong>false</strong> - Slot ist nicht aktiv</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">clear_on_disconnect<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob der Ladestrom dieses Slots beim Abziehen eines Fahrzeugs auf 0 gesetzt wird.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Slot wird beim Abziehen blockieren</li>
    <li><strong>false</strong> - Slot wird gesetzten Ladestrom beim Abziehen beibehalten</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="evse_energy_meter_values">evse/energy_meter_values <strong>(Nur WARP 2)</strong> </div>
    Bei WARP 2 wird der Stromzähler vom Ladecontroller selbst ausgelesen. evse/energy_meter_values liefert die zuletzt gelesenen Werte.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">power<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Die aktuelle Ladeleistung.</td>
</tr>

<tr class="any">
    <th scope="row">energy_rel<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Die geladene Energie seit dem letzten Reset.</td>
</tr>

<tr class="any">
    <th scope="row">energy_abs<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Die geladene Energie seit der Herstellung des Stromzählers.</td>
</tr>

<tr class="any">
    <th scope="row">phases_active<br/><span class="th-details">bool[3]</span></th>
    <td>Die derzeit aktiven Phasen
<div class="any">
<ol class="ol-enum">
    <li>[0] - Phase L1 aktiv</li>
    <li>[1] - Phase L2 aktiv</li>
    <li>[2] - Phase L3 aktiv</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">phases_connected<br/><span class="th-details">bool[3]</span></th>
    <td>Die angeschlossenen Phasen
<div class="any">
<ol class="ol-enum">
    <li>[0] - Phase L1 angeschlossen</li>
    <li>[1] - Phase L2 angeschlossen</li>
    <li>[2] - Phase L3 angeschlossen</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="evse_energy_meter_errors">evse/energy_meter_errors <strong>(Nur WARP 2)</strong> </div>
    Bei WARP 2 wird der Stromzähler vom Ladecontroller selbst ausgelesen. evse/energy_meter_errors liefert die Fehlerzähler der Kommunikation mit dem Stromzähler.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">local_timeout<br/><span class="th-details">int</span></th>
    <td>Local Timeout</td>
</tr>

<tr class="any">
    <th scope="row">global_timeout<br/><span class="th-details">int</span></th>
    <td>Global Timeout</td>
</tr>

<tr class="any">
    <th scope="row">illegal_function<br/><span class="th-details">int</span></th>
    <td>Illegal Function</td>
</tr>

<tr class="any">
    <th scope="row">illegal_data_access<br/><span class="th-details">int</span></th>
    <td>Illegal Data Access</td>
</tr>

<tr class="any">
    <th scope="row">illegal_data_value<br/><span class="th-details">int</span></th>
    <td>Illegal Data Value</td>
</tr>

<tr class="any">
    <th scope="row">slave_device_failure<br/><span class="th-details">int</span></th>
    <td>Slave Device Failure</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_button_state">evse/button_state</div>
    Der Zustand des Tasters in der Frontblende. Benötigt das Feature "button_config".
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">button_press_time<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit zu der zuletzt der Taster gedrückt wurde. 0 falls der Taster seit dem Start des Ladecontrollers nicht betätigt wurde.<br/><br/> Achtung: Diese Zeit wird direkt über den Takt des Prozessors gemessen. Die Genauigkeit ist damit nur ausreichend für Zeitmessungen im Bereich Minuten bis wenige Stunden. Die Zeitmessung läuft nach ungefähr 50 Tagen über und beginnt wieder bei 0.</td>
</tr>

<tr class="any">
    <th scope="row">button_release_time<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit zu der zuletzt der Taster losgelassen wurde. 0 falls der Taster seit dem Start des Ladecontrollers nicht betätigt wurde.<br/><br/> Achtung: Diese Zeit wird direkt über den Takt des Prozessors gemessen. Die Genauigkeit ist damit nur ausreichend für Zeitmessungen im Bereich Minuten bis wenige Stunden. Die Zeitmessung läuft nach ungefähr 50 Tagen über und beginnt wieder bei 0.</td>
</tr>

<tr class="any">
    <th scope="row">button_pressed<br/><span class="th-details">bool</span></th>
    <td>true, falls der Taster derzeit gedrückt ist, sonst false</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_indicator_led">evse/indicator_led</div>
    Der Zustand der LED im Taster
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">indication<br/><span class="th-details">int</span></th>
    <td>Aktuell gesetzter Zustand.
<div class="any">
<ol class="ol-enum">
    <li><strong>-1</strong> - EVSE kontrolliert LED</li>
    <li><strong>0</strong> - Aus</li>
    <li><strong>1..254</strong> - Per PWM gedimmtes leuchten</li>
    <li><strong>255</strong> - An</li>
    <li><strong>1001</strong> - Bestätigendes Blinken (z.B: NFC-Tag wurde erkannt)</li>
    <li><strong>1002</strong> - Ablehnendes Blinken (z.B: NFC-Tag ist unbekannt)</li>
    <li><strong>1003</strong> - Aufforderndes Blinken (z.B: NFC-Tag wird zum Laden benötigt)</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">duration<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Dauer für die der gesetzte Zustand erhalten bleibt.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_low_level_state">evse/low_level_state</div>
    Der Low-Level-Zustand des Ladecontrollers.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">led_state<br/><span class="th-details">int</span></th>
    <td>Der Zustand der am Ladecontroller angeschlossenen LED
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Aus</li>
    <li><strong>1</strong> - An</li>
    <li><strong>2</strong> - Blinkt</li>
    <li><strong>3</strong> - Flackert</li>
    <li><strong>4</strong> - Atmet</li>
    <li><strong>5</strong> - API, siehe <a class="scrollto text-monospace" href="#evse_indicator_led">evse/indicator_led</a></li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">cp_pwm_duty_cycle<br/><span class="th-details">int (<abbr title="Zehntel Prozent">%/10</abbr>)</span></th>
    <td>Tastverhältnis der Pulsweitenmodulation auf dem CP-Signal.</td>
</tr>

<tr class="any">
    <th scope="row">adc_values<br/><span class="th-details">int[..]</span></th>
    <td>16-Bit ADC-Rohwerte der Spannungsmessungen
<div class="warp1_only">
<strong>WARP 1:</strong><br><ol class="ol-enum">
    <li>[0] - CP/PE</li>
    <li>[1] - PP/PE</li>
</ol>
</div>
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li>[0] - CP/PE vor Widerstand (PWM High)</li>
    <li>[1] - CP/PE nach Widerstand (PWM High)</li>
    <li>[2] - CP/PE vor Widerstand (PWM Low)</li>
    <li>[3] - CP/PE nach Widerstand (PWM Low)</li>
    <li>[4] - PP/PE</li>
    <li>[5] - +12V Rail</li>
    <li>[6] - -12V Rail</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">voltages<br/><span class="th-details">int[..] (<abbr title="Millivolt">mV</abbr>)</span></th>
    <td>Aus den ADC-Werten berechnete Spannungen
<div class="warp1_only">
<strong>WARP 1:</strong><br><ol class="ol-enum">
    <li>[0] - CP/PE</li>
    <li>[1] - PP/PE</li>
    <li>[2] - Maximalspannung CP/PE</li>
</ol>
</div>
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li>[0] - CP/PE vor Widerstand (PWM High)</li>
    <li>[1] - CP/PE nach Widerstand (PWM High)</li>
    <li>[2] - CP/PE vor Widerstand (PWM Low)</li>
    <li>[3] - CP/PE nach Widerstand (PWM Low)</li>
    <li>[4] - PP/PE</li>
    <li>[5] - +12V Rail</li>
    <li>[6] - -12V Rail</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">resistances<br/><span class="th-details">int[2] (<abbr title="Ohm">Ω</abbr>)</span></th>
    <td>Aus den Spannungen berechnete Widerstände
<div class="any">
<ol class="ol-enum">
    <li>[0] - CP/PE</li>
    <li>[1] - PP/PE</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">gpio<br/><span class="th-details">bool[..]</span></th>
    <td>Signale auf den GPIOs
<div class="warp1_only">
<strong>WARP 1:</strong><br><ol class="ol-enum">
    <li>[0] - Eingang</li>
    <li>[1] - Ausgang</li>
    <li>[2] - Motoreingangsschalter</li>
    <li>[3] - Relais</li>
    <li>[4] - Motorfehler</li>
</ol>
</div>
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li>[0] - Stromkonfiguration 0</li>
    <li>[1] - Motorfehler</li>
    <li>[2] - Gleichstromfehler</li>
    <li>[3] - Stromkonfiguration 1</li>
    <li>[4] - DC-Fehlerstromschutz-Test</li>
    <li>[5] - Abschaltung</li>
    <li>[6] - Taster</li>
    <li>[7] - CP-PWM</li>
    <li>[8] - Motoreingangsschalter</li>
    <li>[9] - Schützsteuerung</li>
    <li>[10] - Konfigurierbarer Ausgang</li>
    <li>[11] - CP-Trennung</li>
    <li>[12] - Motor aktiv</li>
    <li>[13] - Motor-Phase</li>
    <li>[14] - Schützprüfung vorher</li>
    <li>[15] - Schützprüfung nachher</li>
    <li>[16] - Konfigurierbarer Eingang</li>
    <li>[17] - DC X6</li>
    <li>[18] - DC X30</li>
    <li>[19] - LED</li>
    <li>[20..23] - Nicht belegt</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">charging_time<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Ungefähre Zeit des Ladevorgangs. Nur für Lastmanagementzwecke zu verwenden!</td>
</tr>

<tr class="any">
    <th scope="row">time_since_state_change<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit seit dem letzten IEC-61851-Zustandswechsel. Falls der Zustand 2 (= B: Lädt) ist, entspricht dieser Wert der Ladezeit.<br/><br/> Achtung: Diese Zeit wird direkt über den Takt des Prozessors gemessen. Die Genauigkeit ist damit nur ausreichend für Zeitmessungen im Bereich Minuten bis wenige Stunden. Die Zeitmessung läuft nach ungefähr 50 Tagen über und beginnt wieder bei 0.</td>
</tr>

<tr class="any">
    <th scope="row">uptime<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit seit Starten des Ladecontrollers.<br/><br/> Achtung: Diese Zeit wird direkt über den Takt des Prozessors gemessen. Die Genauigkeit ist damit nur ausreichend für Zeitmessungen im Bereich Minuten bis wenige Stunden. Die Zeitmessung läuft nach ungefähr 50 Tagen über und beginnt wieder bei 0.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_external_current">evse/external_current</div>
    Der von der externen Steuerung vorgegebene Ladestrom. Kann über evse/external_current_update mit dem selben Payload gesetzt werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Der von der externen Steuerung vorgegebene Ladestrom. 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 falls der Slot blockiert.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_external_clear_on_disconnect">evse/external_clear_on_disconnect</div>
    Gibt an, ob der von der externen Ladesteuerung vorgegebene Ladestrom beim Abziehen eines Fahrzeugs automatisch auf 0 gesetzt werden soll. Kann über evse/external_clear_on_disconnect_update mit dem selben Payload gesetzt werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">clear_on_disconnect<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob der Ladestrom dieses Slots beim Abziehen eines Fahrzeugs auf 0 gesetzt wird.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Slot wird beim Abziehen blockieren</li>
    <li><strong>false</strong> - Slot wird gesetzten Ladestrom beim Abziehen beibehalten</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_management_current">evse/management_current</div>
    Der vom Lastmanagement vorgegebene Ladestrom. Kann über evse/management_current_update mit dem selben Payload gesetzt werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 falls der Slot blockieren soll.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_auto_start_charging">evse/auto_start_charging</div>
    Konfiguriert, ob ein angeschlossenes Fahrzeug selbstständig geladen wird. Dieser Wert kann über evse/auto_start_charging_update mit dem selben Payload aktualisiert werden. Achtung: Ein Neustart des Ladecontrollers setzt diesen Wert zurück auf true.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">auto_start_charging<br/><span class="th-details">bool</span></th>
    <td>Konfiguriert, ob ein angeschlossenes Fahrzeug selbstständig geladen wird. Falls aktiviert, beginnt sofort, wenn das Fahrzeug angeschlossen wird der Ladevorgang. Falls deaktiviert, kann das Laden mit <a class="scrollto text-monospace" href="#evse_start_charging">evse/start_charging</a> gestartet werden.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_global_current">evse/global_current</div>
    Der über das Webinterface vorgegebene Ladestrom. Kann über evse/global_current_update mit dem selben Payload gesetzt werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Der über das Webinterface vorgegebene Ladestrom. 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 falls der Slot blockiert.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_management_enabled">evse/management_enabled</div>
    Gibt an, ob der Ladeslot des Lastmanagements aktiv ist. Der Wert kann über evse/management_enabled_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enabled<br/><span class="th-details">bool</span></th>
    <td>true wenn Lastmanagement aktiviert ist, sonst false</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_user_slot_enabled">evse/user_slot_enabled</div>
    Gibt an, ob der Ladeslot der Benutzerautorisierung aktiv ist. Der Wert kann über evse/user_slot_enabled_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enabled<br/><span class="th-details">bool</span></th>
    <td>true wenn die Benutzerautorisierung aktiviert ist, sonst false</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_external_enabled">evse/external_enabled</div>
    Gibt an, ob der Ladeslot der externen Steuerung aktiv ist. Der Wert kann über evse/external_enabled_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enabled<br/><span class="th-details">bool</span></th>
    <td>true wenn die externe Steuerung aktiviert ist, sonst false</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_external_defaults">evse/external_defaults</div>
    Die nach einem Neustart des Ladecontrollers übernommenen Einstellungen des Ladeslots der externen Steuerung. Der Wert kann über evse/external_defaults_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Der nach einem Neustart übernommene Maximalstrom im Ladeslot der externen Steuerung. 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 falls der Slot blockiert.</td>
</tr>

<tr class="any">
    <th scope="row">clear_on_disconnect<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob der Ladestrom dieses Slots beim Abziehen eines Fahrzeugs auf 0 gesetzt wird.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Slot wird beim Abziehen blockieren</li>
    <li><strong>false</strong> - Slot wird gesetzten Ladestrom beim Abziehen beibehalten</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="evse_gpio_configuration">evse/gpio_configuration <strong>(Nur WARP 2)</strong> </div>
    Die Konfiguration der konfigurierbaren Ein- und Ausgänge. Kann über evse/gpio_configuration_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">shutdown_input<br/><span class="th-details">int</span></th>
    <td>Die Konfiguration des Abschalteingangs.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht konfiguriert</li>
    <li><strong>1</strong> - Abschalten wenn geöffnet</li>
    <li><strong>2</strong> - Abschalten wenn geschlossen</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">input<br/><span class="th-details">int</span></th>
    <td>Die Konfiguration des konfigurierbaren Eingangs.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht konfiguriert</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">output<br/><span class="th-details">int</span></th>
    <td>Die Konfiguration des konfigurierbaren Ausgangs.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Verbunden mit Masse</li>
    <li><strong>1</strong> - Hochohmig</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="evse_button_configuration">evse/button_configuration <strong>(Nur WARP 2)</strong> </div>
    Die Konfiguration des Tasters in der Frontblende. Diese kann über evse/button_configuration_update mit dem selben Payload aktualisiert werden. <strong>Das NFC-Modul kann diese Konfiguration ändern und sperren, um sicherzustellen, dass ein NFC-Tag zum Starten/Stoppen einer Ladung notwendig ist!</strong>
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">button<br/><span class="th-details">int</span></th>
    <td>Die Konfiguration des Tasters in der Frontblende.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Deaktiviert</li>
    <li><strong>1</strong> - Ladestart wenn gedrückt</li>
    <li><strong>2</strong> - Ladestop wenn gedrückt</li>
    <li><strong>3</strong> - Ladestart/stop wenn gedrückt</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp1_only">
    <div class="h5" id="evse_user_calibration">evse/user_calibration <strong>(Nur WARP 1)</strong> </div>
    Erlaubt es, die werksseitige Kalibrierung des EVSEs auszulesen und zu überschreiben. Dieser Wert kann über evse/user_calibration_update mit dem selben Payload aktualisiert werden. Um die Kalibierung auf den Werkszustand zurückzusetzen, kann ein Payload mit user_calibration_active auf false geschickt werden. Die weiteren Werte werden dann ignoriert.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">user_calibration_active<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die werksseitige Kalibrierung überschrieben wurde.</td>
</tr>

<tr class="any">
    <th scope="row">voltage_diff<br/><span class="th-details">int</span></th>
    <td>Einer der Kalibrierungsparameter.</td>
</tr>

<tr class="any">
    <th scope="row">voltage_mul<br/><span class="th-details">int</span></th>
    <td>Einer der Kalibrierungsparameter.</td>
</tr>

<tr class="any">
    <th scope="row">voltage_div<br/><span class="th-details">int</span></th>
    <td>Einer der Kalibrierungsparameter.</td>
</tr>

<tr class="any">
    <th scope="row">resistance_2700<br/><span class="th-details">int</span></th>
    <td>Einer der Kalibrierungsparameter.</td>
</tr>

<tr class="any">
    <th scope="row">resistance_880<br/><span class="th-details">int[..]</span></th>
    <td>Einer der Kalibrierungsparameter.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_reset_dc_fault_current_state">evse/reset_dc_fault_current_state</div>
    Setzt das DC-Fehlerstrom-Schutzmodul zurück. <strong>Vor dem Zurücksetzen muss der Grund des Fehlers unbedingt behoben werden!</strong>
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">password<br/><span class="th-details">int</span></th>
    <td>Passwort, das zum Zurücksetzen benötigt wird. Das Passwort lautet 0xDC42FA23.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="evse_stop_charging">evse/stop_charging</div>
    Beendet den laufenden Ladevorgang. Ein Aufruf dieser Funktion ist äquivalent zum Stoppen über den Taster an der Wallbox: Es wird TODO LINK Slot 4 blockiert. Ein Ladevorgang kann mit <a class="scrollto text-monospace" href="#evse_start_charging">evse/start_charging</a> wieder gestartet werden.<br/><strong>Leerer Payload. Es muss null übergeben werden.</strong><br/><strong>Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert.</strong>
</div>

<div class="any">
    <div class="h5" id="evse_start_charging">evse/start_charging</div>
    Startet einen Ladevorgang. Ein Aufruf dieser Funktion ist äquivalent zum Starten über den Taster an der Wallbox: Es wird TODO LINK Slot 4 freigegeben. Ein Ladevorgang kann mit <a class="scrollto text-monospace" href="#evse_stop_charging">evse/stop_charging</a> wieder gestoppt werden.<br/><strong>Leerer Payload. Es muss null übergeben werden.</strong><br/><strong>Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert.</strong>
</div>

<div class="any">
    <div class="h5" id="evse_start_debug">evse/start_debug</div>
    Startet ein Ladeprotokoll. Es werden hochfrequent Messwerte des Ladecontrollers auf die WebSockets geschrieben, bis <a class="scrollto text-monospace" href="#evse_stop_debug">evse/stop_debug</a> aufgerufen wird.
</div>

<div class="any">
    <div class="h5" id="evse_stop_debug">evse/stop_debug</div>
    Stoppt ein Ladeprotokoll. Siehe <a class="scrollto text-monospace" href="#evse_start_debug">evse/start_debug</a> für Details.
</div>
</section>
<section id="reference-meter" class="section any">
    <header class="reference-section-header">
        <h4>Stromzähler</h4><h5>Benötigt das Feature "meter".</h5>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#meter_state">meter/state</a></li>
<li><a class="scrollto text-monospace" href="#meter_values">meter/values</a></li>
<li><a class="scrollto text-monospace" href="#meter_phases">meter/phases</a></li>
<li><a class="scrollto text-monospace" href="#meter_error_counters">meter/error_counters</a></li>
<li><a class="scrollto text-monospace" href="#meter_all_values">meter/all_values</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#meter_reset">meter/reset</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#meter_history">meter/history</a></li>
<li><a class="scrollto text-monospace" href="#meter_live">meter/live</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="meter_state">meter/state</div>
    Der Zustand des Stromzählers.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">state<br/><span class="th-details">int</span></th>
    <td>Zustand des Stromzählers
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Kein Stromzähler verbunden</li>
    <li><strong>1</strong> - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.</li>
    <li><strong>2</strong> - Stromzähler verbunden</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">type<br/><span class="th-details">int</span></th>
    <td>Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jeder Wallbox unterstützt!
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Kein Stromzähler verfügbar</li>
</ol>
</div>
<div class="warp1_only">
<strong>WARP 1:</strong><br><ol class="ol-enum">
    <li><strong>1</strong> - SDM72</li>
</ol>
</div>
<div class="warp2_only">
<strong>WARP 2:</strong><br><ol class="ol-enum">
    <li><strong>2</strong> - SDM630</li>
    <li><strong>3</strong> - SDM72V2</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="meter_values">meter/values</div>
    Die Messwerte des Stromzählers.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">power<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Die aktuelle Ladeleistung.</td>
</tr>

<tr class="any">
    <th scope="row">energy_rel<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Die geladene Energie seit dem letzten Reset.</td>
</tr>

<tr class="any">
    <th scope="row">energy_abs<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Die geladene Energie seit der Herstellung des Stromzählers.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="meter_phases">meter/phases <strong>(Nur WARP 2)</strong> </div>
    Angeschlossene und aktive Phasen. Benötigt das Feature "meter_phases".
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">phases_active<br/><span class="th-details">bool[3]</span></th>
    <td>Die derzeit aktiven Phasen
<div class="any">
<ol class="ol-enum">
    <li>[0] - Phase L1 aktiv</li>
    <li>[1] - Phase L2 aktiv</li>
    <li>[2] - Phase L3 aktiv</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">phases_connected<br/><span class="th-details">bool[3]</span></th>
    <td>Die angeschlossenen Phasen
<div class="any">
<ol class="ol-enum">
    <li>[0] - Phase L1 angeschlossen</li>
    <li>[1] - Phase L2 angeschlossen</li>
    <li>[2] - Phase L3 angeschlossen</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="meter_error_counters">meter/error_counters</div>
    Fehlerzähler der Kommunikation mit dem Stromzähler.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="warp1_only">
    <th scope="row">meter<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen RS485 Bricklet und Stromzähler.</td>
</tr>

<tr class="warp1_only">
    <th scope="row">bricklet<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen ESP Brick und RS485 Bricklet.</td>
</tr>

<tr class="warp1_only">
    <th scope="row">bricklet_reset<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 1)</strong> Unerwartete Resets des RS485 Bricklets.</td>
</tr>

<tr class="warp2_only">
    <th scope="row">local_timeout<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Local Timeout</td>
</tr>

<tr class="warp2_only">
    <th scope="row">global_timeout<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Global Timeout</td>
</tr>

<tr class="warp2_only">
    <th scope="row">illegal_function<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Illegal Function</td>
</tr>

<tr class="warp2_only">
    <th scope="row">illegal_data_access<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Illegal Data Access</td>
</tr>

<tr class="warp2_only">
    <th scope="row">illegal_data_value<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Illegal Data Value</td>
</tr>

<tr class="warp2_only">
    <th scope="row">slave_device_failure<br/><span class="th-details">int</span></th>
    <td><strong>(Nur WARP 2)</strong> Slave Device Failure</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="warp2_only">
    <div class="h5" id="meter_all_values">meter/all_values <strong>(Nur WARP 2)</strong> </div>
    Alle Messwerte, die vom eingebauten Stromzähler gemessen werden.  Benötigt das Feature "meter_all_values". Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Index</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">[0..2]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Spannung gegen Neutral</td>
</tr>

<tr class="any">
    <th scope="row">[3..5]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Strom</td>
</tr>

<tr class="any">
    <th scope="row">[6..8]<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Wirkleistung</td>
</tr>

<tr class="any">
    <th scope="row">[9..11]<br/><span class="th-details">float (<abbr title="Voltampere">VA</abbr>)</span></th>
    <td>Scheinleistung</td>
</tr>

<tr class="any">
    <th scope="row">[12..14]<br/><span class="th-details">float (<abbr title="Voltampere Reaktiv">var</abbr>)</span></th>
    <td>Blindleistung</td>
</tr>

<tr class="any">
    <th scope="row">[15..17]<br/><span class="th-details">float</span></th>
    <td>Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.</td>
</tr>

<tr class="any">
    <th scope="row">[18..20]<br/><span class="th-details">float (<abbr title="Grad">°</abbr>)</span></th>
    <td>relative Phasenverschiebung</td>
</tr>

<tr class="any">
    <th scope="row">[21]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Durchschnittliche Spannung gegen Neutral</td>
</tr>

<tr class="any">
    <th scope="row">[22]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Durchschnittlicher Strom</td>
</tr>

<tr class="any">
    <th scope="row">[23]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Summe der Phasenströme</td>
</tr>

<tr class="any">
    <th scope="row">[24]<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Gesamtwirkleistung</td>
</tr>

<tr class="any">
    <th scope="row">[25]<br/><span class="th-details">float (<abbr title="Voltampere">VA</abbr>)</span></th>
    <td>Gesamtscheinleistung</td>
</tr>

<tr class="any">
    <th scope="row">[26]<br/><span class="th-details">float (<abbr title="Voltampere Reaktiv">var</abbr>)</span></th>
    <td>Gesamtblindleistung</td>
</tr>

<tr class="any">
    <th scope="row">[27]<br/><span class="th-details">float</span></th>
    <td>Gesamtleistungsfaktor</td>
</tr>

<tr class="any">
    <th scope="row">[28]<br/><span class="th-details">float (<abbr title="Grad">°</abbr>)</span></th>
    <td>Gesamtphasenverschiebung</td>
</tr>

<tr class="any">
    <th scope="row">[29]<br/><span class="th-details">float (<abbr title="Hertz">Hz</abbr>)</span></th>
    <td>Frequenz der Versorgungsspannung</td>
</tr>

<tr class="any">
    <th scope="row">[30]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Wirkenergie (Import; vom Fahrzeug aufgenommen)</td>
</tr>

<tr class="any">
    <th scope="row">[31]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Wirkenergie (Export; vom Fahrzeug abgegeben)</td>
</tr>

<tr class="any">
    <th scope="row">[32]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Blindenergie (Import; vom Fahrzeug aufgenommen)</td>
</tr>

<tr class="any">
    <th scope="row">[33]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Blindenergie (Export; vom Fahrzeug abgegeben)</td>
</tr>

<tr class="any">
    <th scope="row">[34]<br/><span class="th-details">float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</span></th>
    <td>Gesamtscheinenergie</td>
</tr>

<tr class="any">
    <th scope="row">[35]<br/><span class="th-details">float (<abbr title="Amperestunde">Ah</abbr>)</span></th>
    <td>Transportierte elektrische Ladung</td>
</tr>

<tr class="any">
    <th scope="row">[36]<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Bezogene Wirkleistung; Entspricht Import-Export-Differenz</td>
</tr>

<tr class="any">
    <th scope="row">[37]<br/><span class="th-details">float (<abbr title="Watt">W</abbr>)</span></th>
    <td>Max. bezogene Wirkleistung; Höchster gemessener Wert</td>
</tr>

<tr class="any">
    <th scope="row">[38]<br/><span class="th-details">float (<abbr title="Voltampere">VA</abbr>)</span></th>
    <td>Bezogene Scheinleistung; Entspricht Import-Export-Differenz</td>
</tr>

<tr class="any">
    <th scope="row">[39]<br/><span class="th-details">float (<abbr title="Voltampere">VA</abbr>)</span></th>
    <td>Max. bezogene Scheinleistung; Höchster gemessener Wert</td>
</tr>

<tr class="any">
    <th scope="row">[40]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Bezogener Neutralleiterstrom</td>
</tr>

<tr class="any">
    <th scope="row">[41]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Max. bezogener Neutralleiterstrom; Höchster gemessener Wert</td>
</tr>

<tr class="any">
    <th scope="row">[42]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Spannung L1 zu L2</td>
</tr>

<tr class="any">
    <th scope="row">[43]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Spannung L2 zu L3</td>
</tr>

<tr class="any">
    <th scope="row">[44]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Spannung L3 zu L1</td>
</tr>

<tr class="any">
    <th scope="row">[45]<br/><span class="th-details">float (<abbr title="Volt">V</abbr>)</span></th>
    <td>Durchschnittliche Spannung zwischen Phasen</td>
</tr>

<tr class="any">
    <th scope="row">[46]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Neutralleiterstrom</td>
</tr>

<tr class="any">
    <th scope="row">[47..49]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Total Harmonic Distortion (THD) der Spannung</td>
</tr>

<tr class="any">
    <th scope="row">[50..52]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Total Harmonic Distortion (THD) des Stroms</td>
</tr>

<tr class="any">
    <th scope="row">[53]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Durchschnittliche Spannungs-THD</td>
</tr>

<tr class="any">
    <th scope="row">[54]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Durchschnittliche Strom-THD</td>
</tr>

<tr class="any">
    <th scope="row">[55..57]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Bezogener Strom</td>
</tr>

<tr class="any">
    <th scope="row">[58..60]<br/><span class="th-details">float (<abbr title="Ampere">A</abbr>)</span></th>
    <td>Max. bezogener Strom; Höchster gemessener Wert</td>
</tr>

<tr class="any">
    <th scope="row">[61]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Spannungs-THD L1 zu L2</td>
</tr>

<tr class="any">
    <th scope="row">[62]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Spannungs-THD L2 zu L3</td>
</tr>

<tr class="any">
    <th scope="row">[63]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Spannungs-THD L3 zu L1</td>
</tr>

<tr class="any">
    <th scope="row">[64]<br/><span class="th-details">float (<abbr title="Prozent">%</abbr>)</span></th>
    <td>Durchschnittliche Spannungs-THD zwischen Phasen</td>
</tr>

<tr class="any">
    <th scope="row">[65]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen</td>
</tr>

<tr class="any">
    <th scope="row">[66]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen</td>
</tr>

<tr class="any">
    <th scope="row">[67..69]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Wirkenergie (Import; vom Fahrzeug aufgenommen)</td>
</tr>

<tr class="any">
    <th scope="row">[70..72]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Wirkenergie (Export; vom Fahrzeug abgegeben)</td>
</tr>

<tr class="any">
    <th scope="row">[73..75]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Gesamtwirkenergie; Import-Export-Summe</td>
</tr>

<tr class="any">
    <th scope="row">[76..78]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Blindenergie (Import; vom Fahrzeug aufgenommen)</td>
</tr>

<tr class="any">
    <th scope="row">[79..81]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Blindenergie (Export; vom Fahrzeug abgegeben)</td>
</tr>

<tr class="any">
    <th scope="row">[82..84]<br/><span class="th-details">float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</span></th>
    <td>Gesamtblindenergie; Import-Export-Summe</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="meter_reset">meter/reset</div>
    Setzt den Energiezähler zurück.<br/><strong>Leerer Payload. Es muss null übergeben werden.</strong><br/><strong>Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert.</strong>
</div>

<div class="any">
    <div class="h5" id="meter_history">meter/history</div>
    Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
</div>

<div class="any">
    <div class="h5" id="meter_live">meter/live</div>
    Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für <a class="scrollto text-monospace" href="#meter_history">meter/history</a> generiert.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">samples_per_second<br/><span class="th-details">float (<abbr title="Hertz">Hz</abbr>)</span></th>
    <td>Die Anzahl der gemessenen Werte pro Sekunde.</td>
</tr>

<tr class="any">
    <th scope="row">samples<br/><span class="th-details">int[..]</span></th>
    <td>Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.</td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-charge_manager" class="section any">
    <header class="reference-section-header">
        <h4>Lastmanager</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#charge_manager_available_current">charge_manager/available_current</a></li>
<li><a class="scrollto text-monospace" href="#charge_manager_state">charge_manager/state</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#charge_manager_config">charge_manager/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="charge_manager_available_current">charge_manager/available_current</div>
    Der derzeit zur Verfügung stehende Strom. Kann über charge_manager/available_current_update aktualisiert werden. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Der zur Verfügung stehende Strom. Darf nicht großer sein als der konfigurierte Maximalstrom maximum_available_current aus <a class="scrollto text-monospace" href="#charge_manager_config">charge_manager/config</a>.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="charge_manager_state">charge_manager/state</div>
    Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet
</div>

<div class="any">
    <div class="h5" id="charge_manager_config">charge_manager/config</div>
    Die Lastmanager-Konfiguration. Diese kann über charge_manager/config_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable_charge_manager<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob der Lastmanager aktiviert sein soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn der Lastmanager aktiviert ist.</li>
    <li><strong>false</strong> - Wenn der Lastmanager nicht aktiviert ist.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">enable_watchdog<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf <a class="scrollto text-monospace" href="#charge_manager_available_current">charge_manager/available_current_update</a> einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn der Watchdog aktiviert ist.</li>
    <li><strong>false</strong> - Wenn der Watchdog nicht aktiviert ist.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">verbose<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn Stromverteilungen geloggt werden sollen.</li>
    <li><strong>false</strong> - Wenn Stromverteilungen nicht geloggt werden sollen.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">default_available_current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.</td>
</tr>

<tr class="any">
    <th scope="row">maximum_available_current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.</td>
</tr>

<tr class="any">
    <th scope="row">minimum_current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Kleinste Strommenge, die einer Wallbox zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.</td>
</tr>

<tr class="any">
    <th scope="row">chargers<br/><span class="th-details">object[10]</span></th>
    <td>Wallboxen, die vom Lastmanager gesteuert werden sollen.
<div class="any">
<ol class="ol-enum">
    <li>[0..9] - Eine zu steuernde Wallbox
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">host<br/><span class="th-details">string</span></th>
    <td>IP-Adresse der zu steuernden Wallbox</td>
</tr>

<tr class="any">
    <th scope="row">name<br/><span class="th-details">string</span></th>
    <td>Anzeigename der zu steuernden Wallbox</td>
</tr>
        </tbody>
    </table>
</div></li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-users" class="section any">
    <header class="reference-section-header">
        <h4>Benutzerverwaltung</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#users_config">users/config</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#users_add">users/add</a></li>
<li><a class="scrollto text-monospace" href="#users_delete">users/delete</a></li>
<li><a class="scrollto text-monospace" href="#users_modify">users/modify</a></li>
<li><a class="scrollto text-monospace" href="#users_http_auth_update">users/http_auth_update</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#users_all_usernames">users/all_usernames</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="users_config">users/config</div>
    Die Benutzerkonfiguration. Kann über die nachfolgenden Kommandos modifiziert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">users<br/><span class="th-details">object[8]</span></th>
    <td>Die Benutzer
<div class="any">
<ol class="ol-enum">
    <li>[0..7] - Ein Benutzer
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">id<br/><span class="th-details">int</span></th>
    <td>ID des Benutzers (1-255)</td>
</tr>

<tr class="any">
    <th scope="row">roles<br/><span class="th-details">int</span></th>
    <td>Berechtigungen des Benutzers. Wird noch nicht verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Diesem Benutzer erlaubter Ladestrom 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 um diesem Nutzer das Laden zu verbieten</td>
</tr>

<tr class="any">
    <th scope="row">display_name<br/><span class="th-details">string</span></th>
    <td>Anzeigename des Benutzers. Wird auch im Ladetracker verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">username<br/><span class="th-details">string</span></th>
    <td>Nutzername zum Anmelden im Webinterface und der HTTP-API.</td>
</tr>

<tr class="any">
    <th scope="row">digest_hash<br/><span class="th-details">string</span></th>
    <td>HTTP-Digest-Hash. Wird als leerer String zurückgegeben, falls die Anmeldung für diesen Nutzer deaktiviert ist.</td>
</tr>
        </tbody>
    </table>
</div></li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">next_user_id<br/><span class="th-details">int</span></th>
    <td>ID des nächsten anzulegenden Nutzers.</td>
</tr>

<tr class="any">
    <th scope="row">http_auth_enabled<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob zur Verwendung von Webinterface und HTTP-API Zugangsdaten nötig sein sollen.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Falls Zugangsdaten verlangt werden sollen.</li>
    <li><strong>false</strong> - Wenn nicht.</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="users_add">users/add</div>
    Fügt einen neuen Benutzer hinzu.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">id<br/><span class="th-details">int</span></th>
    <td>ID des anzulegenden Nutzers. Muss dem aktuellen Wert von next_user_id aus <a class="scrollto text-monospace" href="#users_config">users/config</a> entsprechen.</td>
</tr>

<tr class="any">
    <th scope="row">roles<br/><span class="th-details">int</span></th>
    <td>Berechtigungen des Benutzers. Wird noch nicht verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Diesem Benutzer erlaubter Ladestrom 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 um diesem Nutzer das Laden zu verbieten</td>
</tr>

<tr class="any">
    <th scope="row">display_name<br/><span class="th-details">string</span></th>
    <td>Anzeigename des Benutzers. Wird auch im Ladetracker verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">username<br/><span class="th-details">string</span></th>
    <td>Nutzername zum Anmelden im Webinterface und der HTTP-API.</td>
</tr>

<tr class="any">
    <th scope="row">digest_hash<br/><span class="th-details">string</span></th>
    <td>HTTP-Digest-Hash des anzulegenden Nutzers. Ein leerer String verbietet das Anmelden im Webinterface.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="users_delete">users/delete</div>
    Löscht einen Benutzer.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">id<br/><span class="th-details">int</span></th>
    <td>ID des zu löschenden Nutzers</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="users_modify">users/modify</div>
    Modifiziert einen Benutzer.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">id<br/><span class="th-details">int</span></th>
    <td>ID des zu modifizierenden Nutzers.</td>
</tr>

<tr class="any">
    <th scope="row">roles<br/><span class="th-details">int</span></th>
    <td>Berechtigungen des Benutzers. Wird noch nicht verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">current<br/><span class="th-details">int (<abbr title="Milliampere">mA</abbr>)</span></th>
    <td>Diesem Benutzer erlaubter Ladestrom 6000 (=6 Ampere) bis 32000 (=32 Ampere) oder 0 um diesem Nutzer das Laden zu verbieten</td>
</tr>

<tr class="any">
    <th scope="row">display_name<br/><span class="th-details">string</span></th>
    <td>Anzeigename des Benutzers. Wird auch im Ladetracker verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">username<br/><span class="th-details">string</span></th>
    <td>Nutzername zum Anmelden im Webinterface und der HTTP-API.</td>
</tr>

<tr class="any">
    <th scope="row">digest_hash<br/><span class="th-details">string</span></th>
    <td>HTTP-Digest-Hash des Nutzers. Ein leerer String verbietet das Anmelden im Webinterface.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="users_http_auth_update">users/http_auth_update</div>
    Schreibt http_auth_enabled aus <a class="scrollto text-monospace" href="#users_config">users/config</a>.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enabled<br/><span class="th-details">bool</span></th>
    <td>Legt fest ob zur Verwendung von Webinterface und HTTP-API Zugangsdaten nötig sein sollen.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Falls Zugangsdaten verlangt werden sollen.</li>
    <li><strong>false</strong> - Wenn nicht.</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="users_all_usernames">users/all_usernames</div>
    Für das Ladetracking werden die Anzeigenamen gelöschter Benutzer separat im Flash gespeichert. Diese Funktion gibt alle Anzeigenamen, die möglicherweise in den getrackten Ladungen vorkommen in einem Binärformat aus.
</div>
</section>
<section id="reference-charge_tracker" class="section any">
    <header class="reference-section-header">
        <h4>Ladetracker</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#charge_tracker_last_charges">charge_tracker/last_charges</a></li>
<li><a class="scrollto text-monospace" href="#charge_tracker_current_charge">charge_tracker/current_charge</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#charge_tracker_charge_log">charge_tracker/charge_log</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="charge_tracker_last_charges">charge_tracker/last_charges</div>
    Die letzten (bis zu) fünf getrackten Ladungen
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Index</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">[0..4]<br/><span class="th-details">object</span></th>
    <td>Eine getrackte Ladung
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">timestamp_minutes<br/><span class="th-details">int (<abbr title="Minute">min</abbr>)</span></th>
    <td>Ein Unix-Timestamp in <strong>Minuten</strong>, der den Startzeitpunkt der Ladung angibt. 0 falls zum Startzeitpunkt keine Zeitsynchronisierung verfügbar war.</td>
</tr>

<tr class="any">
    <th scope="row">charge_duration<br/><span class="th-details">int (<abbr title="Sekunde">s</abbr>)</span></th>
    <td>Dauer des Ladevorgangs.</td>
</tr>

<tr class="any">
    <th scope="row">user_id<br/><span class="th-details">int</span></th>
    <td>ID des Benutzers der die Ladung gestartet hat. 0 falls eine Freigabe ohne Nutzerzuordnung erfolgt ist.</td>
</tr>

<tr class="any">
    <th scope="row">energy_charged<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Geladene Energie. null falls zum Start- oder Endzeitpunkt kein Zähler verfügbar war.</td>
</tr>
        </tbody>
    </table>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="charge_tracker_current_charge">charge_tracker/current_charge</div>
    Information zum aktuell laufenden Ladevorgang. Falls kein Ladevorgang läuft, hat die user_id den Wert -1
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">user_id<br/><span class="th-details">int</span></th>
    <td>ID des Benutzers der die Ladung gestartet hat. 0 falls eine Freigabe ohne Nutzerzuordnung erfolgt ist. -1 falls gerade kein Ladevorgang läuft.</td>
</tr>

<tr class="any">
    <th scope="row">meter_start<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Zählerstand bei Start der Ladung. null falls zum Startzeitpunkt kein Zähler verfügbar war.</td>
</tr>

<tr class="any">
    <th scope="row">evse_uptime_start<br/><span class="th-details">int (<abbr title="Sekunde">s</abbr>)</span></th>
    <td>Uptime des Ladecontrollers beim Start der Ladung. Um zu berechnen, wie lange der Ladevogang bereits läuft kann die aktuelle Uptime aus <a class="scrollto text-monospace" href="#evse_low_level_state">evse/low_level_state</a> verwendet werden.</td>
</tr>

<tr class="any">
    <th scope="row">timestamp_minutes<br/><span class="th-details">int (<abbr title="Minute">min</abbr>)</span></th>
    <td>Ein Unix-Timestamp in <strong>Minuten</strong>, der den Startzeitpunkt der Ladung angibt. 0 falls zum Startzeitpunkt keine Zeitsynchronisierung verfügbar war.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="charge_tracker_charge_log">charge_tracker/charge_log</div>
    Gibt alle getrackten Ladungen in folgendem Binärformat aus. Ladeeinträge sind 16 Byte lang und werden nacheinander ausgegeben. Die folgenden Indizes sind Byte-offsets relativ zum Start einer getrackten Ladung. Alle Werte sind in little-endian.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Index</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">[0..3]<br/><span class="th-details">int (<abbr title="Minute">min</abbr>)</span></th>
    <td>Ein Unix-Timestamp in <strong>Minuten</strong>, der den Startzeitpunkt der Ladung angibt. 0 falls zum Startzeitpunkt keine Zeitsynchronisierung verfügbar war.</td>
</tr>

<tr class="any">
    <th scope="row">[4..7]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Zählerstand bei Start der Ladung. NaN falls zum Startzeitpunkt kein Zähler verfügbar war.</td>
</tr>

<tr class="any">
    <th scope="row">[8]<br/><span class="th-details">int</span></th>
    <td>ID des Benutzers der die Ladung gestartet hat. 0 falls eine Freigabe ohne Nutzerzuordnung erfolgt ist.</td>
</tr>

<tr class="any">
    <th scope="row">[9..11]<br/><span class="th-details">int (<abbr title="Sekunde">s</abbr>)</span></th>
    <td>Dauer des Ladevorgangs.</td>
</tr>

<tr class="any">
    <th scope="row">[12..15]<br/><span class="th-details">float (<abbr title="Kilowattstunde">kWh</abbr>)</span></th>
    <td>Zählerstand bei Ende der Ladung. NaN falls zum Endzeitpunkt kein Zähler verfügbar war.</td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-nfc" class="section any">
    <header class="reference-section-header">
        <h4>NFC-Ladefreigabe</h4><h5>Benötigt das Feature "nfc".</h5>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#nfc_seen_tags">nfc/seen_tags</a></li>
<li><a class="scrollto text-monospace" href="#nfc_last_tag">nfc/last_tag</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#nfc_inject_tag">nfc/inject_tag</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#nfc_config">nfc/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="nfc_seen_tags">nfc/seen_tags</div>
    Die zuletzt von der Wallbox gesehenen NFC-Tags.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Index</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">[0..7]<br/><span class="th-details">object</span></th>
    <td>Ein gesehenes NFC-Tag
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">tag_type<br/><span class="th-details">int</span></th>
    <td>Typ des Tags
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Mifare Classic</li>
    <li><strong>1</strong> - NFC Forum Typ 1</li>
    <li><strong>2</strong> - NFC Forum Typ 2</li>
    <li><strong>3</strong> - NFC Forum Typ 3</li>
    <li><strong>4</strong> - NFC Forum Typ 4</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">tag_id<br/><span class="th-details">string</span></th>
    <td>ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:ab:3d</td>
</tr>

<tr class="any">
    <th scope="row">last_seen<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit in Millisekunden vor der das Tag zuletzt gesehen wurde.</td>
</tr>
        </tbody>
    </table>
</div></td>
</tr>

<tr class="any">
    <th scope="row">[8]<br/><span class="th-details">object</span></th>
    <td>Das von <a class="scrollto text-monospace" href="#nfc_inject_tag">nfc/inject_tag</a> vorgetäuschte Tag
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">tag_type<br/><span class="th-details">int</span></th>
    <td>Typ des Tags
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Mifare Classic</li>
    <li><strong>1</strong> - NFC Forum Typ 1</li>
    <li><strong>2</strong> - NFC Forum Typ 2</li>
    <li><strong>3</strong> - NFC Forum Typ 3</li>
    <li><strong>4</strong> - NFC Forum Typ 4</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">tag_id<br/><span class="th-details">string</span></th>
    <td>ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:ab:3d</td>
</tr>

<tr class="any">
    <th scope="row">last_seen<br/><span class="th-details">int (<abbr title="Millisekunde">ms</abbr>)</span></th>
    <td>Zeit in Millisekunden vor der das Tag zuletzt gesehen wurde.</td>
</tr>
        </tbody>
    </table>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="nfc_last_tag">nfc/last_tag</div>
    Das letzte Tag, dass einen Ladevorgang gestartet hat.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">user_id<br/><span class="th-details">int</span></th>
    <td>ID des Nutzers dem dieses Tag zugeordnet ist, oder 0 falls es keinem Nutzer zugeordnet ist.</td>
</tr>

<tr class="any">
    <th scope="row">tag_type<br/><span class="th-details">int</span></th>
    <td>Typ des Tags.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Mifare Classic</li>
    <li><strong>1</strong> - NFC Forum Typ 1</li>
    <li><strong>2</strong> - NFC Forum Typ 2</li>
    <li><strong>3</strong> - NFC Forum Typ 3</li>
    <li><strong>4</strong> - NFC Forum Typ 4</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">tag_id<br/><span class="th-details">string</span></th>
    <td>ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:ab:3d</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="nfc_inject_tag">nfc/inject_tag</div>
    Täuscht vor, dass ein Tag vom NFC-Leser erkannt wurde. Hiermit kann über die API ein Ladevorgang für einen bestimmten Benutzer gestartet werden. Das vorgetauschte Tag ist immer der letzte Eintrag in <a class="scrollto text-monospace" href="#nfc_seen_tags">nfc/seen_tags</a>
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">tag_type<br/><span class="th-details">int</span></th>
    <td>Typ des Tags.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Mifare Classic</li>
    <li><strong>1</strong> - NFC Forum Typ 1</li>
    <li><strong>2</strong> - NFC Forum Typ 2</li>
    <li><strong>3</strong> - NFC Forum Typ 3</li>
    <li><strong>4</strong> - NFC Forum Typ 4</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">tag_id<br/><span class="th-details">string</span></th>
    <td>ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:ab:3d</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="nfc_config">nfc/config</div>
    Die NFC-Konfiguration. Diese kann über nfc/config_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">authorized_tags<br/><span class="th-details">object[8]</span></th>
    <td>Eine Liste authorisierter Tags.
<div class="any">
<ol class="ol-enum">
    <li>[0..7] - Ein autorisiertes NFC-Tag
<div class="table-responsive">
    <table class="table table-not-striped mt-3 table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">user_id<br/><span class="th-details">int</span></th>
    <td>ID des Nutzers dem dieses Tag zugeordnet ist, oder 0 falls es keinem Nutzer zugeordnet ist.</td>
</tr>

<tr class="any">
    <th scope="row">tag_type<br/><span class="th-details">int</span></th>
    <td>Typ des Tags.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Mifare Classic</li>
    <li><strong>1</strong> - NFC Forum Typ 1</li>
    <li><strong>2</strong> - NFC Forum Typ 2</li>
    <li><strong>3</strong> - NFC Forum Typ 3</li>
    <li><strong>4</strong> - NFC Forum Typ 4</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">tag_id<br/><span class="th-details">string</span></th>
    <td>ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:ab:3d</td>
</tr>
        </tbody>
    </table>
</div></li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-network" class="section any">
    <header class="reference-section-header">
        <h4>Netzwerk-Konfiguration</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#network_config">network/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="network_config">network/config</div>
    Allgemeine Netzwerkeinstellungen
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">hostname<br/><span class="th-details">string</span></th>
    <td>Hostname den die Wallbox in allen konfigurierten Netzwerken verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">enable_mdns<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die Wallbox das Webinterface per mDNS im Netzwerk bekanntgeben soll. Per mDNS wird das Webinterface unter http://[hostname].local (z.B. http://warp2-AbC.local) erreichbar sein.</td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-wifi" class="section any">
    <header class="reference-section-header">
        <h4>WLAN-Konfiguration</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#wifi_state">wifi/state</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#wifi_scan">wifi/scan</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#wifi_sta_config">wifi/sta_config</a></li>
<li><a class="scrollto text-monospace" href="#wifi_ap_config">wifi/ap_config</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#wifi_scan_results">wifi/scan_results</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="wifi_state">wifi/state</div>
    Der aktuelle WLAN-Zustand.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">connection_state<br/><span class="th-details">int</span></th>
    <td>Zustand der Verbindung zum konfigurierten WLAN. Siehe <a class="scrollto text-monospace" href="#wifi_sta_config">wifi/sta_config</a>
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht konfiguriert</li>
    <li><strong>1</strong> - Nicht verbunden</li>
    <li><strong>2</strong> - Verbinde</li>
    <li><strong>3</strong> - Verbunden</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ap_state<br/><span class="th-details">int</span></th>
    <td>Zustand des WLAN-Access-Points. Siehe <a class="scrollto text-monospace" href="#wifi_ap_config">wifi/ap_config</a>
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Deaktiviert</li>
    <li><strong>1</strong> - Aktiviert</li>
    <li><strong>2</strong> - Fallback inaktiv</li>
    <li><strong>3</strong> - Fallback aktiv</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ap_bssid<br/><span class="th-details">string</span></th>
    <td>BSSID des WLAN-Access-Points.</td>
</tr>

<tr class="any">
    <th scope="row">sta_ip<br/><span class="th-details">string</span></th>
    <td>Aktuelle IP der Wallbox im konfigurierten Netz. 0.0.0.0 falls keine Verbindung besteht.</td>
</tr>

<tr class="any">
    <th scope="row">sta_rssi<br/><span class="th-details">int</span></th>
    <td>Die aktuelle Empfangsqualität. 0 falls keine Verbindung besteht, sonst negativ. Werte näher 0 entsprechen einem besseren Empfang.</td>
</tr>

<tr class="any">
    <th scope="row">sta_bssid<br/><span class="th-details">string</span></th>
    <td>Die BSSID der Gegenstelle, zu der die Wallbox verbunden ist.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="wifi_scan">wifi/scan</div>
    Löst einen Scan nach WLANs aus. Die Scan-Ergebnisse können derzeit nur über HTTP abgefragt werden.<br/><strong>Leerer Payload. Es muss null übergeben werden.</strong><br/><strong>Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert.</strong>
</div>

<div class="any">
    <div class="h5" id="wifi_sta_config">wifi/sta_config</div>
    Die WLAN-Verbindungskonfiguration. Diese kann über wifi/sta_config_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable_sta<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob eine WLAN-Verbindung zum konfigurierten Netzwerk aufgebaut werden soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn eine WLAN-Verbindung aufgebaut werden soll.</li>
    <li><strong>false</strong> - Wenn nicht.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ssid<br/><span class="th-details">string</span></th>
    <td>SSID zu der sich verbunden werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">bssid<br/><span class="th-details">int[6]</span></th>
    <td>BSSID zu der sich verbunden werden soll. Dieser Eintrag ist optional und kann leer übergeben werden, wird aber für das bssid_lock benötigt.</td>
</tr>

<tr class="any">
    <th scope="row">bssid_lock<br/><span class="th-details">bool</span></th>
    <td>Legt fest, ob sich nur zum WLAN mit der gesetzten BSSID verbunden werden soll. Deaktiviert lassen, falls Repeater o.Ä. verwendet werden sollen.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Verbindet sich nur zum Access Point mit der übergebenen BSSID.</li>
    <li><strong>false</strong> - Verbindet sich nur zu jedem Access Point mit der konfigurierten SSID, z.B. mit Repeatern.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">passphrase<br/><span class="th-details">string</span></th>
    <td>Die WLAN-Passphrase. Maximal 63 Byte. Dieser Eintrag ist optional und kann leer übergeben werden, falls sich zu einem unverschlüsselten WLAN verbunden werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">ip<br/><span class="th-details">string</span></th>
    <td>IP-Adresse, die die Wallbox im konfigurierten Netz verwenden soll. Dieser Eintrag und die folgenden sind optional und können als "0.0.0.0" übergeben werden, falls die automatische IP-Adressvergabe (DHCP) verwendet werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">gateway<br/><span class="th-details">string</span></th>
    <td>Gateway-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">subnet<br/><span class="th-details">string</span></th>
    <td>Subnetzmaske, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">dns<br/><span class="th-details">string</span></th>
    <td>DNS-Server-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">dns2<br/><span class="th-details">string</span></th>
    <td>Alternative DNS-Server-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="wifi_ap_config">wifi/ap_config</div>
    Die WLAN-Access-Point-Konfiguration. Diese kann über wifi/ap_config_update mit dem selben Payload aktualisiert werden. <strong>Achtung! Wenn der Access Point deaktiviert wird, und die WLAN-Verbindung bzw. LAN-Verbindung nicht aufgebaut werden kann, bzw. nicht konfiguriert wurde, kann der ESP nur noch durch einen Factory-Reset erreicht werden!</strong> Wir empfehlen, den Access Point immer im Fallback-Modus zu belassen.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable_ap<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob der Access Point aktiviert werden soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Der AP soll aktiviert werden. Ggfalls. nur als Fallback (siehe ap_fallback_only)</li>
    <li><strong>false</strong> - Der AP soll immer deaktiviert bleiben.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ap_fallback_only<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob der Access Point nur aktiviert werden soll, falls die WLAN- und LAN-Verbindungen nicht aufgebaut werden können. Wird ignoriert, falls enable_ap false ist.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Der AP soll nur aktiviert werden, falls die WLAN- und LAN-Verbindungen nicht aufgebaut werden können.</li>
    <li><strong>false</strong> - Der AP soll immer aktiviert bleiben.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ssid<br/><span class="th-details">string</span></th>
    <td>SSID zu der sich verbunden werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">hide_ssid<br/><span class="th-details">bool</span></th>
    <td>true falls die SSID versteckt werden soll, ansonsten false.</td>
</tr>

<tr class="any">
    <th scope="row">passphrase<br/><span class="th-details">string</span></th>
    <td>Die WLAN-Passphrase. Maximal 63 Byte.</td>
</tr>

<tr class="any">
    <th scope="row">channel<br/><span class="th-details">int</span></th>
    <td>Channel, auf dem der Access Point erreichbar sein soll. Gültige Werte sind 1 bis 13.</td>
</tr>

<tr class="any">
    <th scope="row">ip<br/><span class="th-details">string</span></th>
    <td>IP-Adresse, die die Wallbox im konfigurierten Netz verwenden soll. Dieser Eintrag und die folgenden sind optional und können als "0.0.0.0" übergeben werden, falls die automatische IP-Adressvergabe (DHCP) verwendet werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">gateway<br/><span class="th-details">string</span></th>
    <td>Gateway-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">subnet<br/><span class="th-details">string</span></th>
    <td>Subnetzmaske, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="wifi_scan_results">wifi/scan_results</div>
    Die WLANs, die aufgrund einer durch wifi/scan ausgelösten Suche gefunden wurden. Ein Array aus Objekten des folgenden Formats:
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">ssid<br/><span class="th-details">string</span></th>
    <td>SSID des gefundenen WLANs. Leer bei versteckten Access Points.</td>
</tr>

<tr class="any">
    <th scope="row">bssid<br/><span class="th-details">string</span></th>
    <td>BSSID des gefundenen WLANs.</td>
</tr>

<tr class="any">
    <th scope="row">rssi<br/><span class="th-details">int</span></th>
    <td>Die Empfangsqualität des gefundenen WLANs. Immer ein negativer Wert, wobei Werte nahe 0 eine bessere Empfangsqualität bedeuten. <a href="https://de.wikipedia.org/wiki/Received_Signal_Strength_Indication">Siehe hier für Details.</a></td>
</tr>

<tr class="any">
    <th scope="row">channel<br/><span class="th-details">int</span></th>
    <td>Kanal des gefundenen WLANs.</td>
</tr>

<tr class="any">
    <th scope="row">encryption<br/><span class="th-details">int</span></th>
    <td>Verschlüsselungsstandard des gefundenen WLANs
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Unverschlüsselt</li>
    <li><strong>1</strong> - WEP</li>
    <li><strong>2</strong> - WPA-PSK</li>
    <li><strong>3</strong> - WPA2-PSK</li>
    <li><strong>4</strong> - WPA/WPA2-PSK</li>
    <li><strong>5</strong> - WPA2-Enterprise</li>
    <li><strong>6</strong> - Unbekannt</li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-ethernet" class="section warp2_only">
    <header class="reference-section-header">
        <h4>LAN-Verbindung</h4><h5>Benötigt das Feature "ethernet".</h5>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#ethernet_state">ethernet/state</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#ethernet_config">ethernet/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="ethernet_state">ethernet/state</div>
    Der aktuelle LAN-Zustand.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">connection_state<br/><span class="th-details">int</span></th>
    <td>Zustand der Verbindung zum konfigurierten LAN.
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht konfiguriert</li>
    <li><strong>1</strong> - Nicht verbunden</li>
    <li><strong>2</strong> - Verbinde</li>
    <li><strong>3</strong> - Verbunden</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ip<br/><span class="th-details">string</span></th>
    <td>Aktuelle IP der Wallbox im konfigurierten Netz. 0.0.0.0 falls keine Verbindung besteht.</td>
</tr>

<tr class="any">
    <th scope="row">full_duplex<br/><span class="th-details">bool</span></th>
    <td>true bei einer Full-Duplex-Verbindung, sonst false</td>
</tr>

<tr class="any">
    <th scope="row">link_speed<br/><span class="th-details">int (<abbr title="Megabit pro Sekunde">Mbit/s</abbr>)</span></th>
    <td>Ausgehandelte Verbindungsgeschwindigkeit.
<div class="any">
<ol class="ol-enum">
    <li><strong>10</strong> - </li>
    <li><strong>100</strong> - </li>
</ol>
</div></td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="ethernet_config">ethernet/config</div>
    Die LAN-Verbindungskonfiguration. Diese kann über ethernet/config_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable_ethernet<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob eine LAN-Verbindung zum konfigurierten Netzwerk aufgebaut werden soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn eine LAN-Verbindung aufgebaut werden soll.</li>
    <li><strong>false</strong> - Wenn nicht.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">ip<br/><span class="th-details">string</span></th>
    <td>IP-Adresse, die die Wallbox im konfigurierten Netz verwenden soll. Dieser Eintrag und die folgenden sind optional und können als "0.0.0.0" übergeben werden, falls die automatische IP-Adressvergabe (DHCP) verwendet werden soll.</td>
</tr>

<tr class="any">
    <th scope="row">gateway<br/><span class="th-details">string</span></th>
    <td>Gateway-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">subnet<br/><span class="th-details">string</span></th>
    <td>Subnetzmaske, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">dns<br/><span class="th-details">string</span></th>
    <td>DNS-Server-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>

<tr class="any">
    <th scope="row">dns2<br/><span class="th-details">string</span></th>
    <td>Alternative DNS-Server-Adresse, die die Wallbox im konfigurierten Netz verwenden soll.</td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-ntp" class="section any">
    <header class="reference-section-header">
        <h4>Zeitsynchronisierung</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#ntp_state">ntp/state</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#ntp_config">ntp/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="ntp_state">ntp/state</div>
    Die Zustand der Netzwerkzeitsynchronisierung.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">synced<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die Wallbox ihre Zeit per NTP synchronisieren konnte.</td>
</tr>

<tr class="any">
    <th scope="row">server<br/><span class="th-details">string</span></th>
    <td>IP-Adresse verwendeten Zeitservers</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="ntp_config">ntp/config</div>
    Die Konfiguration der Netzwerkzeitsynchronisierung.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die Wallbox per NTP ihre Zeit synchronisieren soll. Die erhaltene Zeit wird zur Bestimmung der Startzeitpunkte von getrackten Ladungen und im Ereignislog verwendet.</td>
</tr>

<tr class="any">
    <th scope="row">use_dhcp<br/><span class="th-details">bool</span></th>
    <td>Gibt an, ob die Wallbox NTP-Server per DHCP empfangen soll. Funktioniert nur, wenn DHCP zur IP-Addressvergabe verwendet wird.</td>
</tr>

<tr class="any">
    <th scope="row">timezone<br/><span class="th-details">string</span></th>
    <td>Die Zeitzone, in der sich die Wallbox befindet. z.B. "Europe/Berlin"</td>
</tr>

<tr class="any">
    <th scope="row">server<br/><span class="th-details">string</span></th>
    <td>IP-Adresse oder Hostname des zu verwendenden Zeitservers</td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-mqtt" class="section any">
    <header class="reference-section-header">
        <h4>MQTT-Verbindung</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#mqtt_state">mqtt/state</a></li>
    </ul>
</li>
<li>
    Konfigurationen
    <ul>
        <li><a class="scrollto text-monospace" href="#mqtt_config">mqtt/config</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="mqtt_state">mqtt/state</div>
    Der aktuelle MQTT-Zustand.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">connection_state<br/><span class="th-details">int</span></th>
    <td>Zustand der Verbindung zum MQTT-Broker
<div class="any">
<ol class="ol-enum">
    <li><strong>0</strong> - Nicht konfiguriert</li>
    <li><strong>1</strong> - Nicht verbunden</li>
    <li><strong>2</strong> - Verbunden</li>
    <li><strong>3</strong> - Fehler</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">last_error<br/><span class="th-details">int</span></th>
    <td>Der zuletzt aufgetretene Fehler. -1 falls kein Fehler aufgetreten ist.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="mqtt_config">mqtt/config</div>
    Die MQTT-Konfiguration. Diese kann über mqtt/config_update mit dem selben Payload aktualisiert werden.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">enable_mqtt<br/><span class="th-details">bool</span></th>
    <td>Gibt an ob eine MQTT-Verbindung zum konfigurierten Broker aufgebaut werden soll.
<div class="any">
<ol class="ol-enum">
    <li><strong>true</strong> - Wenn MQTT aktiviert ist.</li>
    <li><strong>false</strong> - Wenn MQTT deaktiviert ist.</li>
</ol>
</div></td>
</tr>

<tr class="any">
    <th scope="row">broker_host<br/><span class="th-details">string</span></th>
    <td>Hostname oder IP-Adresse des MQTT-Brokers, zu dem sich die Wallbox verbinden soll.</td>
</tr>

<tr class="any">
    <th scope="row">broker_port<br/><span class="th-details">int</span></th>
    <td>Port des MQTT-Brokers zu dem sich die Wallbox verbinden soll. Typischerweise 1883.</td>
</tr>

<tr class="any">
    <th scope="row">broker_username<br/><span class="th-details">string</span></th>
    <td>Username mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentifizierung verwendet wird.</td>
</tr>

<tr class="any">
    <th scope="row">broker_password<br/><span class="th-details">string</span></th>
    <td>Passwort mit dem sich zum Broker verbunden werden soll. Leer falls keine Authentisierung verwendet wird.</td>
</tr>

<tr class="any">
    <th scope="row">global_topic_prefix<br/><span class="th-details">string</span></th>
    <td>Präfix der allen MQTT-Topics vorangestellt wird. Normalerweise warp/[UID der Wallbox] bzw. warp2/[UID der Wallbox].</td>
</tr>

<tr class="any">
    <th scope="row">client_name<br/><span class="th-details">string</span></th>
    <td>Name unter dem sich die Wallbox beim Broker registriert. <strong>Das ist nicht der Username zur Authentisierung.</strong></td>
</tr>
        </tbody>
    </table>
</div>
</div>
</section>
<section id="reference-misc" class="section any">
    <header class="reference-section-header">
        <h4>Sonstiges</h4>

    </header>
    <ul class="ul-no-bullet">
        <li>
    Zustände
    <ul>
        <li><a class="scrollto text-monospace" href="#version">version</a></li>
<li><a class="scrollto text-monospace" href="#modules">modules</a></li>
<li><a class="scrollto text-monospace" href="#features">features</a></li>
    </ul>
</li>
<li>
    Kommandos
    <ul>
        <li><a class="scrollto text-monospace" href="#reboot">reboot</a></li>
    </ul>
</li>
<li>
    HTTP-Spezifisch
    <ul>
        <li><a class="scrollto text-monospace" href="#uptime">uptime</a></li>
<li><a class="scrollto text-monospace" href="#debug_report">debug_report</a></li>
<li><a class="scrollto text-monospace" href="#force_reboot">force_reboot</a></li>
<li><a class="scrollto text-monospace" href="#update">update</a></li>
<li><a class="scrollto text-monospace" href="#flash_firmware">flash_firmware</a></li>
<li><a class="scrollto text-monospace" href="#flash_spiffs">flash_spiffs</a></li>
    </ul>
</li>
    </ul>
    
<div class="any">
    <div class="h5" id="version">version</div>
    Version der Wallbox-Firmware.
<div class="table-responsive">
    <table class="table table-striped table-bottom-border mt-3">
        <thead class="thead-dark">
            <tr>
            <th scope="col" style="width: 25%">Name</th>
            <th scope="col">Bedeutung</th>
            </tr>
        </thead>
        <tbody>

<tr class="any">
    <th scope="row">firmware<br/><span class="th-details">string</span></th>
    <td>Die Firmware-Version, die aktuell ausgeführt wird.</td>
</tr>

<tr class="any">
    <th scope="row">spiffs<br/><span class="th-details">string</span></th>
    <td>Die Version der Konfiguration, die aktuell verwendet wird.</td>
</tr>
        </tbody>
    </table>
</div>
</div>

<div class="any">
    <div class="h5" id="modules">modules</div>
    Initialisierungszustand der Firmware-Module.
</div>

<div class="any">
    <div class="h5" id="features">features</div>
    Unterstützte Hardwarefeatures.
</div>

<div class="any">
    <div class="h5" id="reboot">reboot</div>
    Startet den ESP neu, um beispielsweise Konfigurationsänderungen anzuwenden.<br/><strong>Leerer Payload. Es muss null übergeben werden.</strong><br/><strong>Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert.</strong>
</div>

<div class="any">
    <div class="h5" id="uptime">uptime</div>
    Die Laufzeit des ESPs seit dem letzten Neustart in Millisekunden.<br/><br/>Achtung: Diese Zeit wird direkt über den Takt des Prozessors gemessen. Die Genauigkeit ist damit nur ausreichend für Zeitmessungen im Bereich Minuten bis wenige Stunden. Die Zeitmessung läuft nach ungefähr 50 Tagen über und beginnt wieder bei 0.
</div>

<div class="any">
    <div class="h5" id="debug_report">debug_report</div>
    Generiert einen Debug-Report. Dieser besteht aus allen Zuständen und Konfigurationen, sowie den letzten empfangenen Kommandos und Konfigurationsupdates. Passwörter werden, genau wie bei Konfigurationsabfragen, zensiert.
</div>

<div class="any">
    <div class="h5" id="force_reboot">force_reboot</div>
    Erzwingt einen sofortigen Neustart des ESPs. Nützlich, falls <a class="scrollto text-monospace" href="#reboot">reboot</a> aus irgendwelchen Gründen hängt.
</div>

<div class="any">
    <div class="h5" id="update">update</div>
    Notfall-Update-Seite mit der eine Firmware-Aktualisierung eingespielt werden kann, auch wenn das normale Webinterface nicht funktioniert.
</div>

<div class="any">
    <div class="h5" id="flash_firmware">flash_firmware</div>
    Nimmt ein Firmware-Update als POST entgegen, dass dann geflasht wird.
</div>

<div class="any">
    <div class="h5" id="flash_spiffs">flash_spiffs</div>
    Nimmt ein Update der Konfigurationspartition als POST entgegen, dass dann geflasht wird.
</div>
</section>

      </div>
    </section>
  </main>
  </div>
  <!--==========================
    Footer
  ============================-->
  <footer id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-info">
            <h3>WARP</h3>
            <p>WARP ist die Elektromobiliätssparte von Tinkerforge.
              Die Tinkerforge GmbH ist ein 2011 gegründetes Unternehmen, das echtes &bdquo;Made in Germany&ldquo; bietet.
            </p>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Links</h4>
            <ul>
              <li><i class="ion-ios-arrow-right"></i> <a href="#intro">Start</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="https://www.tinkerforge.com/de/shop/warp/wallbox.html">Shop</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="https://www.tinkerforge.com/de/home/legal_info/">Impressum</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="https://www.tinkerforge.com/de/home/privacy_notice/">Datenschutz</a></li>
              <li><i class="ion-ios-arrow-right"></i> <a href="https://www.tinkerforge.com/de/home/terms_and_conditions/">AGB</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-contact">
            <h4>Kontakt</h4>
            <p>
              Tinkerforge GmbH <br>
              Zur Brinke 7 <br>
              33758 Schloß Holte-Stukenbrock<br>
              Deutschland <br>
              <strong>Telefon:</strong> 05207 / 8998614<br>
              <strong>E-Mail:</strong> info@tinkerforge.com<br>
            </p>

            <div class="social-links">
              <a href="https://twitter.com/tinkerforge" class="twitter"><i class="fa fa-twitter"></i></a>
              <a href="https://www.facebook.com/tinkerforge42" class="facebook"><i class="fa fa-facebook"></i></a>
              <a href="https://www.instagram.com/tinkerforge" class="instagram"><i class="fa fa-instagram"></i></a>
              <a href="https://www.linkedin.com/company/tinkerforge-gmbh/" class="linkedin"><i class="fa fa-linkedin"></i></a>
            </div>

          </div>

          <div class="col-lg-3 col-md-6 footer-newsletter">
            <h4>Über uns</h4>
            <p>
              Wir bei Tinkerforge sind der Meinung, dass Produkte offen sein müssen. Nur so gehören sie wirklich den
              Nutzern. Daher folgen wir der Open‐Source‐Philosophie, indem wir die Quelltexte sowie Baupläne all unserer
              Soft- und Hardware veröffentlichen und ermöglichen es so jedem Einzelnen, unsere Produkte nach eigenen
              Wünschen zu verändern und zu erweitern. Durch die enge Zusammenarbeit mit unserer aktiven Community
              entwickeln wir schnell kundenorientierte Lösungen.
            </p>
          </div>

        </div>
      </div>
    </div>
  </footer><!-- #footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/jquery/jquery-migrate.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="lib/easing/easing.min.js"></script>
  <script src="lib/superfish/hoverIntent.js"></script>
  <script src="lib/superfish/superfish.min.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="lib/isotope/isotope.pkgd.min.js"></script>
  <script src="lib/lightbox/js/lightbox.min.js"></script>
  <script src="lib/touchSwipe/jquery.touchSwipe.min.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

</body>
</html>
